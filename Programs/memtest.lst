680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 24 Jan 2019      Time: 13:50:39          Source: C:\M68KV6.0 - 640BY480\M68KV6.0 - 800BY480 - (VERILOG) FOR STUDENTS\PROGRAMS\MEMTEST.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  0CF4      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  0000      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  0CE8      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  0CEC      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  0CF4 0800 
08000034  0CF0      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  013C      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\M68KV6.0 - 640BY480\M68KV6.0 - 800BY480 - (VERILOG) FOR STUDENTS\PROGRAMS\LAB1_MEMTEST\MEMORYTEST.C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; #include <stdlib.h>
                      47   ; #include <ctype.h> 
                      48   ; #define sramStart   *(volatile unsigned char *)(0x08020000)
                      49   ; #define sramEnd     *(volatile unsigned char *)(0x08030000)
                      50   ; /**********************************************************************************************
                      51   ; **	LCD display port addresses
                      52   ; **********************************************************************************************/
                      53   ; #define LCDcommand   *(volatile unsigned char *)(0x00400020)
                      54   ; #define LCDdata      *(volatile unsigned char *)(0x00400022)
                      55   ; /************************************************************************************
                      56   ; **   Delay Subroutine to give the 68000 something useless to do to waste 1 mSec
                      57   ; ************************************************************************************/
                      58   ; void Wait1ms(void)
                      59   ; {
                      60   _Wait1ms:
0800003E  2F02        61          move.l    D2,-(A7)
                      62   ; int  i ;
                      63   ; for(i = 0; i < 1000; i ++)
08000040  4282        64          clr.l     D2
                      65   Wait1ms_1:
08000042  0C82 0000   66          cmp.l     #1000,D2
08000046  03E8      
08000048  6C04        67          bge.s     Wait1ms_3
0800004A  5282        68          addq.l    #1,D2
0800004C  60F4        69          bra       Wait1ms_1
                      70   Wait1ms_3:
0800004E  241F        71          move.l    (A7)+,D2
08000050  4E75        72          rts
                      73   ; ;
                      74   ; }
                      75   ; /************************************************************************************
                      76   ; **  Subroutine to give the 68000 something useless to do to waste 3 mSec
                      77   ; **************************************************************************************/
                      78   ; void Wait3ms(void)
                      79   ; {
                      80   _Wait3ms:
08000052  2F02        81          move.l    D2,-(A7)
                      82   ; int i ;
                      83   ; for(i = 0; i < 3; i++)
08000054  4282        84          clr.l     D2
                      85   Wait3ms_1:
08000056  0C82 0000   86          cmp.l     #3,D2
0800005A  0003      
0800005C  6C0A        87          bge.s     Wait3ms_3
                      88   ; Wait1ms() ;
0800005E  4EB9 0800   89          jsr       _Wait1ms
08000062  003E      
08000064  5282        90          addq.l    #1,D2
08000066  60EE        91          bra       Wait3ms_1
                      92   Wait3ms_3:
08000068  241F        93          move.l    (A7)+,D2
0800006A  4E75        94          rts
                      95   ; }
                      96   ; /******************************************************************************
                      97   ; **  Subroutine to output a single character to the 2 row LCD display
                      98   ; **  It is assumed the character is an ASCII code and it will be displayed at the
                      99   ; **  current cursor position
                     100   ; *******************************************************************************/
                     101   ; void LCDOutchar(int c)
                     102   ; {
                     103   _LCDOutchar:
0800006C  4E56 0000  104          link      A6,#0
                     105   ; LCDdata = (char)(c);
08000070  202E 0008  106          move.l    8(A6),D0
08000074  13C0 0040  107          move.b    D0,4194338
08000078  0022      
                     108   ; Wait1ms() ;
0800007A  4EB9 0800  109          jsr       _Wait1ms
0800007E  003E      
08000080  4E5E       110          unlk      A6
08000082  4E75       111          rts
                     112   ; }
                     113   ; /**********************************************************************************
                     114   ; *subroutine to output a message at the current cursor position of the LCD display
                     115   ; ************************************************************************************/
                     116   ; void LCDOutMessage(char *theMessage)
                     117   ; {
                     118   _LCDOutMessage:
08000084  4E56 FFFC  119          link      A6,#-4
                     120   ; char c ;
                     121   ; while((c = *theMessage++) != 0)     // output characters from the string until NULL
                     122   LCDOutMessage_1:
08000088  206E 0008  123          move.l    8(A6),A0
0800008C  52AE 0008  124          addq.l    #1,8(A6)
08000090  1D50 FFFF  125          move.b    (A0),-1(A6)
08000094  1010       126          move.b    (A0),D0
08000096  6714       127          beq.s     LCDOutMessage_3
                     128   ; LCDOutchar(c) ;
08000098  122E FFFF  129          move.b    -1(A6),D1
0800009C  4881       130          ext.w     D1
0800009E  48C1       131          ext.l     D1
080000A0  2F01       132          move.l    D1,-(A7)
080000A2  4EB9 0800  133          jsr       _LCDOutchar
080000A6  006C      
080000A8  584F       134          addq.w    #4,A7
080000AA  60DC       135          bra       LCDOutMessage_1
                     136   LCDOutMessage_3:
080000AC  4E5E       137          unlk      A6
080000AE  4E75       138          rts
                     139   ; }
                     140   ; /******************************************************************************
                     141   ; *subroutine to clear the line by issuing 24 space characters
                     142   ; *******************************************************************************/
                     143   ; void LCDClearln(void)
                     144   ; {
                     145   _LCDClearln:
080000B0  2F02       146          move.l    D2,-(A7)
                     147   ; int i ;
                     148   ; for(i = 0; i < 24; i ++)
080000B2  4282       149          clr.l     D2
                     150   LCDClearln_1:
080000B4  0C82 0000  151          cmp.l     #24,D2
080000B8  0018      
080000BA  6C10       152          bge.s     LCDClearln_3
                     153   ; LCDOutchar(' ') ;       // write a space char to the LCD display
080000BC  4878 0020  154          pea       32
080000C0  4EB9 0800  155          jsr       _LCDOutchar
080000C4  006C      
080000C6  584F       156          addq.w    #4,A7
080000C8  5282       157          addq.l    #1,D2
080000CA  60E8       158          bra       LCDClearln_1
                     159   LCDClearln_3:
080000CC  241F       160          move.l    (A7)+,D2
080000CE  4E75       161          rts
                     162   ; }
                     163   ; /******************************************************************************
                     164   ; **  Subroutine to move the LCD cursor to the start of line 1 and clear that line
                     165   ; *******************************************************************************/
                     166   ; void LCDLine1Message(char *theMessage)
                     167   ; {
                     168   _LCDLine1Message:
080000D0  4E56 0000  169          link      A6,#0
                     170   ; LCDcommand = 0x80 ;
080000D4  13FC 0080  171          move.b    #128,4194336
080000D8  0040 0020 
                     172   ; Wait3ms();
080000DC  4EB9 0800  173          jsr       _Wait3ms
080000E0  0052      
                     174   ; LCDClearln() ;
080000E2  4EB9 0800  175          jsr       _LCDClearln
080000E6  00B0      
                     176   ; LCDcommand = 0x80 ;
080000E8  13FC 0080  177          move.b    #128,4194336
080000EC  0040 0020 
                     178   ; Wait3ms() ;
080000F0  4EB9 0800  179          jsr       _Wait3ms
080000F4  0052      
                     180   ; LCDOutMessage(theMessage) ;
080000F6  2F2E 0008  181          move.l    8(A6),-(A7)
080000FA  4EB9 0800  182          jsr       _LCDOutMessage
080000FE  0084      
08000100  584F       183          addq.w    #4,A7
08000102  4E5E       184          unlk      A6
08000104  4E75       185          rts
                     186   ; }
                     187   ; /******************************************************************************
                     188   ; **  Subroutine to move the LCD cursor to the start of line 2 and clear that line
                     189   ; *******************************************************************************/
                     190   ; void LCDLine2Message(char *theMessage)
                     191   ; {
                     192   _LCDLine2Message:
08000106  4E56 0000  193          link      A6,#0
                     194   ; LCDcommand = 0xC0 ;
0800010A  13FC 00C0  195          move.b    #192,4194336
0800010E  0040 0020 
                     196   ; Wait3ms();
08000112  4EB9 0800  197          jsr       _Wait3ms
08000116  0052      
                     198   ; LCDClearln() ;
08000118  4EB9 0800  199          jsr       _LCDClearln
0800011C  00B0      
                     200   ; LCDcommand = 0xC0 ;
0800011E  13FC 00C0  201          move.b    #192,4194336
08000122  0040 0020 
                     202   ; Wait3ms() ;
08000126  4EB9 0800  203          jsr       _Wait3ms
0800012A  0052      
                     204   ; LCDOutMessage(theMessage) ;
0800012C  2F2E 0008  205          move.l    8(A6),-(A7)
08000130  4EB9 0800  206          jsr       _LCDOutMessage
08000134  0084      
08000136  584F       207          addq.w    #4,A7
08000138  4E5E       208          unlk      A6
0800013A  4E75       209          rts
                     210   ; }
                     211   ; int main() 
                     212   ; {
                     213   _main:
0800013C  4E56 FF68  214          link      A6,#-152
                     215   ; char text[150]; 
                     216   ; sprintf(text, "Testing the LCD"); 
08000140  4879 0800  217          pea       @memory~1_1.L
08000144  0BCA      
08000146  486E FF6A  218          pea       -150(A6)
0800014A  4EB9 0800  219          jsr       _sprintf
0800014E  0164      
08000150  504F       220          addq.w    #8,A7
                     221   ; LCDLine1Message(text); 
08000152  486E FF6A  222          pea       -150(A6)
08000156  4EB9 0800  223          jsr       _LCDLine1Message
0800015A  00D0      
0800015C  584F       224          addq.w    #4,A7
                     225   ; // uint32_t *ramPtr = sramStart;
                     226   ; // uint32_t writeVar = 69420;
                     227   ; // uint32_t readVar;  
                     228   ; // bool failure = false; 
                     229   ; // while (ramPtr < sramEnd)
                     230   ; // {
                     231   ; //     *ramPtr = writeVar; 
                     232   ; //     readVar = *ramPtr; 
                     233   ; //     if (readVar != writeVar)
                     234   ; //     {
                     235   ; //         failure = true; 
                     236   ; //     }
                     237   ; //     ramPtr++; 
                     238   ; // } 
                     239   ; return 0;
0800015E  4280       240          clr.l     D0
08000160  4E5E       241          unlk      A6
08000162  4E75       242          rts
                     243   ; }
                     244   _sprintf:
08000164  4E56 FFFC  245          link      A6,#-4
08000168  2F02       246          move.l    D2,-(A7)
0800016A  41EE 000C  247          lea       12(A6),A0
0800016E  5848       248          addq.w    #4,A0
08000170  2408       249          move.l    A0,D2
08000172  2F02       250          move.l    D2,-(A7)
08000174  2F2E 000C  251          move.l    12(A6),-(A7)
08000178  2F2E 0008  252          move.l    8(A6),-(A7)
0800017C  4EB9 0800  253          jsr       _doprint
08000180  023E      
08000182  DEFC 000C  254          add.w     #12,A7
08000186  2D40 FFFC  255          move.l    D0,-4(A6)
0800018A  4282       256          clr.l     D2
0800018C  202E FFFC  257          move.l    -4(A6),D0
08000190  241F       258          move.l    (A7)+,D2
08000192  4E5E       259          unlk      A6
08000194  4E75       260          rts
                     261   @doprint_copy:
08000196  4E56 0000  262          link      A6,#0
0800019A  206E 0008  263          move.l    8(A6),A0
0800019E  4A90       264          tst.l     (A0)
080001A0  6710       265          beq.s     @doprint_copy_1
080001A2  202E 000C  266          move.l    12(A6),D0
080001A6  206E 0008  267          move.l    8(A6),A0
080001AA  2250       268          move.l    (A0),A1
080001AC  5290       269          addq.l    #1,(A0)
080001AE  1280       270          move.b    D0,(A1)
080001B0  600C       271          bra.s     @doprint_copy_2
                     272   @doprint_copy_1:
080001B2  2F2E 000C  273          move.l    12(A6),-(A7)
080001B6  4EB9 0800  274          jsr       _putch
080001BA  0A90      
080001BC  584F       275          addq.w    #4,A7
                     276   @doprint_copy_2:
080001BE  4E5E       277          unlk      A6
080001C0  4E75       278          rts
                     279   @doprint_getval:
080001C2  4E56 0000  280          link      A6,#0
080001C6  48E7 3000  281          movem.l   D2/D3,-(A7)
080001CA  262E 0008  282          move.l    8(A6),D3
080001CE  4282       283          clr.l     D2
080001D0  2043       284          move.l    D3,A0
080001D2  2050       285          move.l    (A0),A0
080001D4  1010       286          move.b    (A0),D0
080001D6  0C00 002A  287          cmp.b     #42,D0
080001DA  6612       288          bne.s     @doprint_getval_1
080001DC  206E 000C  289          move.l    12(A6),A0
080001E0  2250       290          move.l    (A0),A1
080001E2  5890       291          addq.l    #4,(A0)
080001E4  2411       292          move.l    (A1),D2
080001E6  2043       293          move.l    D3,A0
080001E8  5290       294          addq.l    #1,(A0)
080001EA  6000 0048  295          bra       @doprint_getval_5
                     296   @doprint_getval_1:
080001EE  7001       297          moveq     #1,D0
080001F0  2043       298          move.l    D3,A0
080001F2  2050       299          move.l    (A0),A0
080001F4  1210       300          move.b    (A0),D1
080001F6  4881       301          ext.w     D1
080001F8  48C1       302          ext.l     D1
080001FA  D081       303          add.l     D1,D0
080001FC  41F9 0800  304          lea       __ctype.L,A0
08000200  0BE6      
08000202  1030 0800  305          move.b    0(A0,D0.L),D0
08000206  C03C 0004  306          and.b     #4,D0
0800020A  6728       307          beq.s     @doprint_getval_5
0800020C  2F02       308          move.l    D2,-(A7)
0800020E  4878 000A  309          pea       10
08000212  4EB9 0800  310          jsr       LMUL
08000216  09F0      
08000218  2017       311          move.l    (A7),D0
0800021A  504F       312          addq.w    #8,A7
0800021C  2043       313          move.l    D3,A0
0800021E  2250       314          move.l    (A0),A1
08000220  5290       315          addq.l    #1,(A0)
08000222  1211       316          move.b    (A1),D1
08000224  4881       317          ext.w     D1
08000226  48C1       318          ext.l     D1
08000228  D081       319          add.l     D1,D0
0800022A  0480 0000  320          sub.l     #48,D0
0800022E  0030      
08000230  2400       321          move.l    D0,D2
08000232  60BA       322          bra       @doprint_getval_1
                     323   @doprint_getval_5:
08000234  2002       324          move.l    D2,D0
08000236  4CDF 000C  325          movem.l   (A7)+,D2/D3
0800023A  4E5E       326          unlk      A6
0800023C  4E75       327          rts
                     328   _doprint:
0800023E  4E56 FFCC  329          link      A6,#-52
08000242  48E7 3F3C  330          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000246  45EE 0008  331          lea       8(A6),A2
0800024A  47F9 0800  332          lea       @doprint_copy.L,A3
0800024E  0196      
08000250  49F9 0800  333          lea       _ultoa.L,A4
08000254  0978      
08000256  4286       334          clr.l     D6
                     335   doprint_1:
08000258  206E 000C  336          move.l    12(A6),A0
0800025C  4A10       337          tst.b     (A0)
0800025E  6700 05F0  338          beq       doprint_3
08000262  206E 000C  339          move.l    12(A6),A0
08000266  1010       340          move.b    (A0),D0
08000268  0C00 0025  341          cmp.b     #37,D0
0800026C  671C       342          beq.s     doprint_4
0800026E  206E 000C  343          move.l    12(A6),A0
08000272  52AE 000C  344          addq.l    #1,12(A6)
08000276  1210       345          move.b    (A0),D1
08000278  4881       346          ext.w     D1
0800027A  48C1       347          ext.l     D1
0800027C  2F01       348          move.l    D1,-(A7)
0800027E  2F0A       349          move.l    A2,-(A7)
08000280  4E93       350          jsr       (A3)
08000282  504F       351          addq.w    #8,A7
08000284  5286       352          addq.l    #1,D6
08000286  6000 05C4  353          bra       doprint_2
                     354   doprint_4:
0800028A  52AE 000C  355          addq.l    #1,12(A6)
0800028E  422E FFD3  356          clr.b     -45(A6)
08000292  422E FFD2  357          clr.b     -46(A6)
08000296  422E FFD0  358          clr.b     -48(A6)
0800029A  422E FFCF  359          clr.b     -49(A6)
0800029E  422E FFCE  360          clr.b     -50(A6)
080002A2  422E FFCD  361          clr.b     -51(A6)
080002A6  42AE FFFC  362          clr.l     -4(A6)
080002AA  7AFF       363          moveq     #-1,D5
080002AC  41EE FFDC  364          lea       -36(A6),A0
080002B0  2608       365          move.l    A0,D3
080002B2  2408       366          move.l    A0,D2
                     367   doprint_6:
080002B4  206E 000C  368          move.l    12(A6),A0
080002B8  1010       369          move.b    (A0),D0
080002BA  4880       370          ext.w     D0
080002BC  48C0       371          ext.l     D0
080002BE  0C80 0000  372          cmp.l     #43,D0
080002C2  002B      
080002C4  6730       373          beq.s     doprint_12
080002C6  6E18       374          bgt.s     doprint_15
080002C8  0C80 0000  375          cmp.l     #35,D0
080002CC  0023      
080002CE  6700 003E  376          beq       doprint_14
080002D2  6E00 0046  377          bgt       doprint_9
080002D6  0C80 0000  378          cmp.l     #32,D0
080002DA  0020      
080002DC  6724       379          beq.s     doprint_13
080002DE  603A       380          bra.s     doprint_9
                     381   doprint_15:
080002E0  0C80 0000  382          cmp.l     #45,D0
080002E4  002D      
080002E6  6702       383          beq.s     doprint_11
080002E8  6030       384          bra.s     doprint_9
                     385   doprint_11:
080002EA  1D7C 0001  386          move.b    #1,-51(A6)
080002EE  FFCD      
080002F0  52AE 000C  387          addq.l    #1,12(A6)
080002F4  6026       388          bra.s     doprint_7
                     389   doprint_12:
080002F6  1D7C 0001  390          move.b    #1,-50(A6)
080002FA  FFCE      
080002FC  52AE 000C  391          addq.l    #1,12(A6)
08000300  601A       392          bra.s     doprint_7
                     393   doprint_13:
08000302  1D7C 0001  394          move.b    #1,-49(A6)
08000306  FFCF      
08000308  52AE 000C  395          addq.l    #1,12(A6)
0800030C  600E       396          bra.s     doprint_7
                     397   doprint_14:
0800030E  1D7C 0001  398          move.b    #1,-48(A6)
08000312  FFD0      
08000314  52AE 000C  399          addq.l    #1,12(A6)
08000318  6002       400          bra.s     doprint_7
                     401   doprint_9:
0800031A  6002       402          bra.s     doprint_8
                     403   doprint_7:
0800031C  6096       404          bra       doprint_6
                     405   doprint_8:
0800031E  206E 000C  406          move.l    12(A6),A0
08000322  1010       407          move.b    (A0),D0
08000324  0C00 0030  408          cmp.b     #48,D0
08000328  660A       409          bne.s     doprint_16
0800032A  52AE 000C  410          addq.l    #1,12(A6)
0800032E  1D7C 0001  411          move.b    #1,-46(A6)
08000332  FFD2      
                     412   doprint_16:
08000334  486E 0010  413          pea       16(A6)
08000338  486E 000C  414          pea       12(A6)
0800033C  4EB9 0800  415          jsr       @doprint_getval
08000340  01C2      
08000342  504F       416          addq.w    #8,A7
08000344  2A40       417          move.l    D0,A5
08000346  206E 000C  418          move.l    12(A6),A0
0800034A  1010       419          move.b    (A0),D0
0800034C  0C00 002E  420          cmp.b     #46,D0
08000350  6616       421          bne.s     doprint_18
08000352  52AE 000C  422          addq.l    #1,12(A6)
08000356  486E 0010  423          pea       16(A6)
0800035A  486E 000C  424          pea       12(A6)
0800035E  4EB9 0800  425          jsr       @doprint_getval
08000362  01C2      
08000364  504F       426          addq.w    #8,A7
08000366  2A00       427          move.l    D0,D5
                     428   doprint_18:
08000368  206E 000C  429          move.l    12(A6),A0
0800036C  1010       430          move.b    (A0),D0
0800036E  0C00 006C  431          cmp.b     #108,D0
08000372  660A       432          bne.s     doprint_20
08000374  52AE 000C  433          addq.l    #1,12(A6)
08000378  1D7C 0001  434          move.b    #1,-45(A6)
0800037C  FFD3      
                     435   doprint_20:
0800037E  206E 000C  436          move.l    12(A6),A0
08000382  1010       437          move.b    (A0),D0
08000384  4880       438          ext.w     D0
08000386  48C0       439          ext.l     D0
08000388  0C80 0000  440          cmp.l     #111,D0
0800038C  006F      
0800038E  6700 00D8  441          beq       doprint_27
08000392  6E34       442          bgt.s     doprint_33
08000394  0C80 0000  443          cmp.l     #100,D0
08000398  0064      
0800039A  6700 0054  444          beq       doprint_24
0800039E  6E1C       445          bgt.s     doprint_34
080003A0  0C80 0000  446          cmp.l     #99,D0
080003A4  0063      
080003A6  6700 0130  447          beq       doprint_30
080003AA  6E00 0174  448          bgt       doprint_22
080003AE  0C80 0000  449          cmp.l     #88,D0
080003B2  0058      
080003B4  6700 00EA  450          beq       doprint_28
080003B8  6000 0166  451          bra       doprint_22
                     452   doprint_34:
080003BC  0C80 0000  453          cmp.l     #105,D0
080003C0  0069      
080003C2  672C       454          beq.s     doprint_24
080003C4  6000 015A  455          bra       doprint_22
                     456   doprint_33:
080003C8  0C80 0000  457          cmp.l     #117,D0
080003CC  0075      
080003CE  6700 0060  458          beq       doprint_26
080003D2  6E0E       459          bgt.s     doprint_35
080003D4  0C80 0000  460          cmp.l     #115,D0
080003D8  0073      
080003DA  6700 0124  461          beq       doprint_31
080003DE  6000 0140  462          bra       doprint_22
                     463   doprint_35:
080003E2  0C80 0000  464          cmp.l     #120,D0
080003E6  0078      
080003E8  6700 00B6  465          beq       doprint_28
080003EC  6000 0132  466          bra       doprint_22
                     467   doprint_24:
080003F0  4A2E FFD3  468          tst.b     -45(A6)
080003F4  671C       469          beq.s     doprint_36
080003F6  4878 000A  470          pea       10
080003FA  2F03       471          move.l    D3,-(A7)
080003FC  206E 0010  472          move.l    16(A6),A0
08000400  58AE 0010  473          addq.l    #4,16(A6)
08000404  2F10       474          move.l    (A0),-(A7)
08000406  4EB9 0800  475          jsr       _ltoa
0800040A  08F0      
0800040C  DEFC 000C  476          add.w     #12,A7
08000410  601A       477          bra.s     doprint_37
                     478   doprint_36:
08000412  4878 000A  479          pea       10
08000416  2F03       480          move.l    D3,-(A7)
08000418  206E 0010  481          move.l    16(A6),A0
0800041C  58AE 0010  482          addq.l    #4,16(A6)
08000420  2F10       483          move.l    (A0),-(A7)
08000422  4EB9 0800  484          jsr       _ltoa
08000426  08F0      
08000428  DEFC 000C  485          add.w     #12,A7
                     486   doprint_37:
0800042C  6000 0100  487          bra       doprint_23
                     488   doprint_26:
08000430  4A2E FFD3  489          tst.b     -45(A6)
08000434  6718       490          beq.s     doprint_38
08000436  4878 000A  491          pea       10
0800043A  2F03       492          move.l    D3,-(A7)
0800043C  206E 0010  493          move.l    16(A6),A0
08000440  58AE 0010  494          addq.l    #4,16(A6)
08000444  2F10       495          move.l    (A0),-(A7)
08000446  4E94       496          jsr       (A4)
08000448  DEFC 000C  497          add.w     #12,A7
0800044C  6016       498          bra.s     doprint_39
                     499   doprint_38:
0800044E  4878 000A  500          pea       10
08000452  2F03       501          move.l    D3,-(A7)
08000454  206E 0010  502          move.l    16(A6),A0
08000458  58AE 0010  503          addq.l    #4,16(A6)
0800045C  2F10       504          move.l    (A0),-(A7)
0800045E  4E94       505          jsr       (A4)
08000460  DEFC 000C  506          add.w     #12,A7
                     507   doprint_39:
08000464  6000 00C8  508          bra       doprint_23
                     509   doprint_27:
08000468  4A2E FFD3  510          tst.b     -45(A6)
0800046C  6718       511          beq.s     doprint_40
0800046E  4878 0008  512          pea       8
08000472  2F03       513          move.l    D3,-(A7)
08000474  206E 0010  514          move.l    16(A6),A0
08000478  58AE 0010  515          addq.l    #4,16(A6)
0800047C  2F10       516          move.l    (A0),-(A7)
0800047E  4E94       517          jsr       (A4)
08000480  DEFC 000C  518          add.w     #12,A7
08000484  6016       519          bra.s     doprint_41
                     520   doprint_40:
08000486  4878 0008  521          pea       8
0800048A  2F03       522          move.l    D3,-(A7)
0800048C  206E 0010  523          move.l    16(A6),A0
08000490  58AE 0010  524          addq.l    #4,16(A6)
08000494  2F10       525          move.l    (A0),-(A7)
08000496  4E94       526          jsr       (A4)
08000498  DEFC 000C  527          add.w     #12,A7
                     528   doprint_41:
0800049C  6000 0090  529          bra       doprint_23
                     530   doprint_28:
080004A0  4A2E FFD3  531          tst.b     -45(A6)
080004A4  6718       532          beq.s     doprint_42
080004A6  4878 0010  533          pea       16
080004AA  2F03       534          move.l    D3,-(A7)
080004AC  206E 0010  535          move.l    16(A6),A0
080004B0  58AE 0010  536          addq.l    #4,16(A6)
080004B4  2F10       537          move.l    (A0),-(A7)
080004B6  4E94       538          jsr       (A4)
080004B8  DEFC 000C  539          add.w     #12,A7
080004BC  6016       540          bra.s     doprint_43
                     541   doprint_42:
080004BE  4878 0010  542          pea       16
080004C2  2F03       543          move.l    D3,-(A7)
080004C4  206E 0010  544          move.l    16(A6),A0
080004C8  58AE 0010  545          addq.l    #4,16(A6)
080004CC  2F10       546          move.l    (A0),-(A7)
080004CE  4E94       547          jsr       (A4)
080004D0  DEFC 000C  548          add.w     #12,A7
                     549   doprint_43:
080004D4  6000 0058  550          bra       doprint_23
                     551   doprint_30:
080004D8  206E 0010  552          move.l    16(A6),A0
080004DC  58AE 0010  553          addq.l    #4,16(A6)
080004E0  2010       554          move.l    (A0),D0
080004E2  2042       555          move.l    D2,A0
080004E4  5282       556          addq.l    #1,D2
080004E6  1080       557          move.b    D0,(A0)
080004E8  2042       558          move.l    D2,A0
080004EA  4210       559          clr.b     (A0)
080004EC  200D       560          move.l    A5,D0
080004EE  6704       561          beq.s     doprint_44
080004F0  200D       562          move.l    A5,D0
080004F2  6006       563          bra.s     doprint_45
                     564   doprint_44:
080004F4  7001       565          moveq     #1,D0
080004F6  4880       566          ext.w     D0
080004F8  48C0       567          ext.l     D0
                     568   doprint_45:
080004FA  2A00       569          move.l    D0,D5
080004FC  6000 0030  570          bra       doprint_23
                     571   doprint_31:
08000500  206E 0010  572          move.l    16(A6),A0
08000504  58AE 0010  573          addq.l    #4,16(A6)
08000508  2610       574          move.l    (A0),D3
0800050A  0C85 FFFF  575          cmp.l     #-1,D5
0800050E  FFFF      
08000510  660C       576          bne.s     doprint_46
08000512  2F03       577          move.l    D3,-(A7)
08000514  4EB9 0800  578          jsr       _strlen
08000518  0A7E      
0800051A  584F       579          addq.w    #4,A7
0800051C  2A00       580          move.l    D0,D5
                     581   doprint_46:
0800051E  600E       582          bra.s     doprint_23
                     583   doprint_22:
08000520  206E 000C  584          move.l    12(A6),A0
08000524  2242       585          move.l    D2,A1
08000526  5282       586          addq.l    #1,D2
08000528  1290       587          move.b    (A0),(A1)
0800052A  2042       588          move.l    D2,A0
0800052C  4210       589          clr.b     (A0)
                     590   doprint_23:
0800052E  2F03       591          move.l    D3,-(A7)
08000530  4EB9 0800  592          jsr       _strlen
08000534  0A7E      
08000536  584F       593          addq.w    #4,A7
08000538  1800       594          move.b    D0,D4
0800053A  206E 000C  595          move.l    12(A6),A0
0800053E  1010       596          move.b    (A0),D0
08000540  0C00 0073  597          cmp.b     #115,D0
08000544  661C       598          bne.s     doprint_48
08000546  0C85 0000  599          cmp.l     #0,D5
0800054A  0000      
0800054C  6D14       600          blt.s     doprint_48
0800054E  4884       601          ext.w     D4
08000550  48C4       602          ext.l     D4
08000552  B885       603          cmp.l     D5,D4
08000554  6F04       604          ble.s     doprint_50
08000556  2005       605          move.l    D5,D0
08000558  6006       606          bra.s     doprint_51
                     607   doprint_50:
0800055A  1004       608          move.b    D4,D0
0800055C  4880       609          ext.w     D0
0800055E  48C0       610          ext.l     D0
                     611   doprint_51:
08000560  1800       612          move.b    D0,D4
                     613   doprint_48:
08000562  206E 000C  614          move.l    12(A6),A0
08000566  1010       615          move.b    (A0),D0
08000568  0C00 0058  616          cmp.b     #88,D0
0800056C  6600 0028  617          bne       doprint_56
08000570  41EE FFDC  618          lea       -36(A6),A0
08000574  2408       619          move.l    A0,D2
                     620   doprint_54:
08000576  2042       621          move.l    D2,A0
08000578  4A10       622          tst.b     (A0)
0800057A  671A       623          beq.s     doprint_56
0800057C  2042       624          move.l    D2,A0
0800057E  1210       625          move.b    (A0),D1
08000580  4881       626          ext.w     D1
08000582  48C1       627          ext.l     D1
08000584  2F01       628          move.l    D1,-(A7)
08000586  4EB9 0800  629          jsr       _toupper
0800058A  0AC0      
0800058C  584F       630          addq.w    #4,A7
0800058E  2042       631          move.l    D2,A0
08000590  1080       632          move.b    D0,(A0)
08000592  5282       633          addq.l    #1,D2
08000594  60E0       634          bra       doprint_54
                     635   doprint_56:
08000596  7E00       636          moveq     #0,D7
08000598  41EE FFD4  637          lea       -44(A6),A0
0800059C  2408       638          move.l    A0,D2
0800059E  206E 000C  639          move.l    12(A6),A0
080005A2  1010       640          move.b    (A0),D0
080005A4  0C00 0064  641          cmp.b     #100,D0
080005A8  670E       642          beq.s     doprint_59
080005AA  206E 000C  643          move.l    12(A6),A0
080005AE  1010       644          move.b    (A0),D0
080005B0  0C00 0069  645          cmp.b     #105,D0
080005B4  6600 0068  646          bne       doprint_65
                     647   doprint_59:
080005B8  102E FFCE  648          move.b    -50(A6),D0
080005BC  4880       649          ext.w     D0
080005BE  48C0       650          ext.l     D0
080005C0  4A80       651          tst.l     D0
080005C2  660C       652          bne.s     doprint_62
080005C4  2043       653          move.l    D3,A0
080005C6  1010       654          move.b    (A0),D0
080005C8  0C00 002D  655          cmp.b     #45,D0
080005CC  6600 0028  656          bne       doprint_60
                     657   doprint_62:
080005D0  2043       658          move.l    D3,A0
080005D2  1010       659          move.b    (A0),D0
080005D4  0C00 002D  660          cmp.b     #45,D0
080005D8  660E       661          bne.s     doprint_63
080005DA  2043       662          move.l    D3,A0
080005DC  5283       663          addq.l    #1,D3
080005DE  2242       664          move.l    D2,A1
080005E0  5282       665          addq.l    #1,D2
080005E2  1290       666          move.b    (A0),(A1)
080005E4  5304       667          subq.b    #1,D4
080005E6  6008       668          bra.s     doprint_64
                     669   doprint_63:
080005E8  2042       670          move.l    D2,A0
080005EA  5282       671          addq.l    #1,D2
080005EC  10BC 002B  672          move.b    #43,(A0)
                     673   doprint_64:
080005F0  5287       674          addq.l    #1,D7
080005F2  6000 002A  675          bra       doprint_65
                     676   doprint_60:
080005F6  4A2E FFCF  677          tst.b     -49(A6)
080005FA  6722       678          beq.s     doprint_65
080005FC  2043       679          move.l    D3,A0
080005FE  1010       680          move.b    (A0),D0
08000600  0C00 002D  681          cmp.b     #45,D0
08000604  660E       682          bne.s     doprint_67
08000606  2043       683          move.l    D3,A0
08000608  5283       684          addq.l    #1,D3
0800060A  2242       685          move.l    D2,A1
0800060C  5282       686          addq.l    #1,D2
0800060E  1290       687          move.b    (A0),(A1)
08000610  5304       688          subq.b    #1,D4
08000612  6008       689          bra.s     doprint_68
                     690   doprint_67:
08000614  2042       691          move.l    D2,A0
08000616  5282       692          addq.l    #1,D2
08000618  10BC 0020  693          move.b    #32,(A0)
                     694   doprint_68:
0800061C  5287       695          addq.l    #1,D7
                     696   doprint_65:
0800061E  4A2E FFD0  697          tst.b     -48(A6)
08000622  6700 005A  698          beq       doprint_77
08000626  206E 000C  699          move.l    12(A6),A0
0800062A  1010       700          move.b    (A0),D0
0800062C  4880       701          ext.w     D0
0800062E  48C0       702          ext.l     D0
08000630  0C80 0000  703          cmp.l     #111,D0
08000634  006F      
08000636  671A       704          beq.s     doprint_73
08000638  6E0C       705          bgt.s     doprint_76
0800063A  0C80 0000  706          cmp.l     #88,D0
0800063E  0058      
08000640  6710       707          beq.s     doprint_73
08000642  6000 003A  708          bra       doprint_77
                     709   doprint_76:
08000646  0C80 0000  710          cmp.l     #120,D0
0800064A  0078      
0800064C  6704       711          beq.s     doprint_73
0800064E  6000 002E  712          bra       doprint_77
                     713   doprint_73:
08000652  2042       714          move.l    D2,A0
08000654  5282       715          addq.l    #1,D2
08000656  10BC 0030  716          move.b    #48,(A0)
0800065A  5287       717          addq.l    #1,D7
0800065C  206E 000C  718          move.l    12(A6),A0
08000660  1010       719          move.b    (A0),D0
08000662  0C00 0078  720          cmp.b     #120,D0
08000666  670C       721          beq.s     doprint_79
08000668  206E 000C  722          move.l    12(A6),A0
0800066C  1010       723          move.b    (A0),D0
0800066E  0C00 0058  724          cmp.b     #88,D0
08000672  660A       725          bne.s     doprint_77
                     726   doprint_79:
08000674  2042       727          move.l    D2,A0
08000676  5282       728          addq.l    #1,D2
08000678  10BC 0078  729          move.b    #120,(A0)
0800067C  5287       730          addq.l    #1,D7
                     731   doprint_77:
0800067E  2042       732          move.l    D2,A0
08000680  4210       733          clr.b     (A0)
08000682  206E 000C  734          move.l    12(A6),A0
08000686  1010       735          move.b    (A0),D0
08000688  4880       736          ext.w     D0
0800068A  48C0       737          ext.l     D0
0800068C  0C80 0000  738          cmp.l     #105,D0
08000690  0069      
08000692  6700 0076  739          beq       doprint_82
08000696  6E42       740          bgt.s     doprint_93
08000698  0C80 0000  741          cmp.l     #99,D0
0800069C  0063      
0800069E  6700 0084  742          beq       doprint_96
080006A2  6E1C       743          bgt.s     doprint_94
080006A4  0C80 0000  744          cmp.l     #88,D0
080006A8  0058      
080006AA  6700 005E  745          beq       doprint_82
080006AE  6E00 0184  746          bgt       doprint_80
080006B2  0C80 0000  747          cmp.l     #69,D0
080006B6  0045      
080006B8  6700 0050  748          beq       doprint_82
080006BC  6000 0176  749          bra       doprint_80
                     750   doprint_94:
080006C0  0C80 0000  751          cmp.l     #101,D0
080006C4  0065      
080006C6  6700 0042  752          beq       doprint_82
080006CA  6E00 0168  753          bgt       doprint_80
080006CE  0C80 0000  754          cmp.l     #100,D0
080006D2  0064      
080006D4  6734       755          beq.s     doprint_82
080006D6  6000 015C  756          bra       doprint_80
                     757   doprint_93:
080006DA  0C80 0000  758          cmp.l     #117,D0
080006DE  0075      
080006E0  6728       759          beq.s     doprint_82
080006E2  6E1A       760          bgt.s     doprint_95
080006E4  0C80 0000  761          cmp.l     #115,D0
080006E8  0073      
080006EA  6700 0038  762          beq       doprint_96
080006EE  6E00 0144  763          bgt       doprint_80
080006F2  0C80 0000  764          cmp.l     #111,D0
080006F6  006F      
080006F8  6710       765          beq.s     doprint_82
080006FA  6000 0138  766          bra       doprint_80
                     767   doprint_95:
080006FE  0C80 0000  768          cmp.l     #120,D0
08000702  0078      
08000704  6704       769          beq.s     doprint_82
08000706  6000 012C  770          bra       doprint_80
                     771   doprint_82:
0800070A  4A2E FFD2  772          tst.b     -46(A6)
0800070E  6714       773          beq.s     doprint_96
08000710  4A2E FFCD  774          tst.b     -51(A6)
08000714  660E       775          bne.s     doprint_96
08000716  200D       776          move.l    A5,D0
08000718  9087       777          sub.l     D7,D0
0800071A  4884       778          ext.w     D4
0800071C  48C4       779          ext.l     D4
0800071E  9084       780          sub.l     D4,D0
08000720  2D40 FFFC  781          move.l    D0,-4(A6)
                     782   doprint_96:
08000724  202E FFFC  783          move.l    -4(A6),D0
08000728  0C80 0000  784          cmp.l     #0,D0
0800072C  0000      
0800072E  6C04       785          bge.s     doprint_98
08000730  42AE FFFC  786          clr.l     -4(A6)
                     787   doprint_98:
08000734  4A2E FFCD  788          tst.b     -51(A6)
08000738  6600 0030  789          bne       doprint_104
0800073C  1004       790          move.b    D4,D0
0800073E  4880       791          ext.w     D0
08000740  48C0       792          ext.l     D0
08000742  D0AE FFFC  793          add.l     -4(A6),D0
08000746  D087       794          add.l     D7,D0
08000748  1D40 FFD1  795          move.b    D0,-47(A6)
                     796   doprint_102:
0800074C  102E FFD1  797          move.b    -47(A6),D0
08000750  4880       798          ext.w     D0
08000752  48C0       799          ext.l     D0
08000754  220D       800          move.l    A5,D1
08000756  534D       801          subq.w    #1,A5
08000758  B081       802          cmp.l     D1,D0
0800075A  6C0E       803          bge.s     doprint_104
0800075C  4878 0020  804          pea       32
08000760  2F0A       805          move.l    A2,-(A7)
08000762  4E93       806          jsr       (A3)
08000764  504F       807          addq.w    #8,A7
08000766  5286       808          addq.l    #1,D6
08000768  60E2       809          bra       doprint_102
                     810   doprint_104:
0800076A  41EE FFD4  811          lea       -44(A6),A0
0800076E  2408       812          move.l    A0,D2
                     813   doprint_105:
08000770  2042       814          move.l    D2,A0
08000772  4A10       815          tst.b     (A0)
08000774  6716       816          beq.s     doprint_107
08000776  2042       817          move.l    D2,A0
08000778  5282       818          addq.l    #1,D2
0800077A  1210       819          move.b    (A0),D1
0800077C  4881       820          ext.w     D1
0800077E  48C1       821          ext.l     D1
08000780  2F01       822          move.l    D1,-(A7)
08000782  2F0A       823          move.l    A2,-(A7)
08000784  4E93       824          jsr       (A3)
08000786  504F       825          addq.w    #8,A7
08000788  5286       826          addq.l    #1,D6
0800078A  60E4       827          bra       doprint_105
                     828   doprint_107:
0800078C  202E FFFC  829          move.l    -4(A6),D0
08000790  1D40 FFD1  830          move.b    D0,-47(A6)
                     831   doprint_108:
08000794  102E FFD1  832          move.b    -47(A6),D0
08000798  532E FFD1  833          subq.b    #1,-47(A6)
0800079C  4A00       834          tst.b     D0
0800079E  670E       835          beq.s     doprint_110
080007A0  4878 0030  836          pea       48
080007A4  2F0A       837          move.l    A2,-(A7)
080007A6  4E93       838          jsr       (A3)
080007A8  504F       839          addq.w    #8,A7
080007AA  5286       840          addq.l    #1,D6
080007AC  60E6       841          bra       doprint_108
                     842   doprint_110:
080007AE  2043       843          move.l    D3,A0
080007B0  4A10       844          tst.b     (A0)
080007B2  6700 0048  845          beq       doprint_113
080007B6  206E 000C  846          move.l    12(A6),A0
080007BA  1010       847          move.b    (A0),D0
080007BC  4880       848          ext.w     D0
080007BE  48C0       849          ext.l     D0
080007C0  0C80 0000  850          cmp.l     #115,D0
080007C4  0073      
080007C6  670C       851          beq.s     doprint_116
080007C8  6E18       852          bgt.s     doprint_119
080007CA  0C80 0000  853          cmp.l     #99,D0
080007CE  0063      
080007D0  6702       854          beq.s     doprint_116
080007D2  600E       855          bra.s     doprint_119
                     856   doprint_116:
080007D4  2005       857          move.l    D5,D0
080007D6  5385       858          subq.l    #1,D5
080007D8  0C80 0000  859          cmp.l     #0,D0
080007DC  0000      
080007DE  6E02       860          bgt.s     doprint_119
080007E0  6016       861          bra.s     doprint_115
                     862   doprint_119:
080007E2  2043       863          move.l    D3,A0
080007E4  5283       864          addq.l    #1,D3
080007E6  1210       865          move.b    (A0),D1
080007E8  4881       866          ext.w     D1
080007EA  48C1       867          ext.l     D1
080007EC  2F01       868          move.l    D1,-(A7)
080007EE  2F0A       869          move.l    A2,-(A7)
080007F0  4E93       870          jsr       (A3)
080007F2  504F       871          addq.w    #8,A7
080007F4  5286       872          addq.l    #1,D6
080007F6  6002       873          bra.s     doprint_112
                     874   doprint_115:
080007F8  6002       875          bra.s     doprint_113
                     876   doprint_112:
080007FA  60B2       877          bra       doprint_110
                     878   doprint_113:
080007FC  4A2E FFCD  879          tst.b     -51(A6)
08000800  6700 0030  880          beq       doprint_125
08000804  1004       881          move.b    D4,D0
08000806  4880       882          ext.w     D0
08000808  48C0       883          ext.l     D0
0800080A  D0AE FFFC  884          add.l     -4(A6),D0
0800080E  D087       885          add.l     D7,D0
08000810  1D40 FFD1  886          move.b    D0,-47(A6)
                     887   doprint_123:
08000814  102E FFD1  888          move.b    -47(A6),D0
08000818  4880       889          ext.w     D0
0800081A  48C0       890          ext.l     D0
0800081C  220D       891          move.l    A5,D1
0800081E  534D       892          subq.w    #1,A5
08000820  B081       893          cmp.l     D1,D0
08000822  6C0E       894          bge.s     doprint_125
08000824  4878 0020  895          pea       32
08000828  2F0A       896          move.l    A2,-(A7)
0800082A  4E93       897          jsr       (A3)
0800082C  504F       898          addq.w    #8,A7
0800082E  5386       899          subq.l    #1,D6
08000830  60E2       900          bra       doprint_123
                     901   doprint_125:
08000832  6014       902          bra.s     doprint_81
                     903   doprint_80:
08000834  206E 000C  904          move.l    12(A6),A0
08000838  1210       905          move.b    (A0),D1
0800083A  4881       906          ext.w     D1
0800083C  48C1       907          ext.l     D1
0800083E  2F01       908          move.l    D1,-(A7)
08000840  2F0A       909          move.l    A2,-(A7)
08000842  4E93       910          jsr       (A3)
08000844  504F       911          addq.w    #8,A7
08000846  5286       912          addq.l    #1,D6
                     913   doprint_81:
08000848  52AE 000C  914          addq.l    #1,12(A6)
                     915   doprint_2:
0800084C  6000 FA0A  916          bra       doprint_1
                     917   doprint_3:
08000850  4A92       918          tst.l     (A2)
08000852  6710       919          beq.s     doprint_126
08000854  4201       920          clr.b     D1
08000856  C2BC 0000  921          and.l     #255,D1
0800085A  00FF      
0800085C  2F01       922          move.l    D1,-(A7)
0800085E  2F0A       923          move.l    A2,-(A7)
08000860  4E93       924          jsr       (A3)
08000862  504F       925          addq.w    #8,A7
                     926   doprint_126:
08000864  2006       927          move.l    D6,D0
08000866  4CDF 3CFC  928          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
0800086A  4E5E       929          unlk      A6
0800086C  4E75       930          rts
                     931   @itoa_convert:
0800086E  4E56 0000  932          link      A6,#0
08000872  48E7 3C00  933          movem.l   D2/D3/D4/D5,-(A7)
08000876  242E 0008  934          move.l    8(A6),D2
0800087A  262E 0010  935          move.l    16(A6),D3
0800087E  2A2E 000C  936          move.l    12(A6),D5
08000882  2F05       937          move.l    D5,-(A7)
08000884  2F03       938          move.l    D3,-(A7)
08000886  4EB9 0800  939          jsr       ULDIV
0800088A  0AEC      
0800088C  202F 0004  940          move.l    4(A7),D0
08000890  504F       941          addq.w    #8,A7
08000892  2800       942          move.l    D0,D4
08000894  BA83       943          cmp.l     D3,D5
08000896  6520       944          blo.s     @itoa_convert_1
08000898  2F03       945          move.l    D3,-(A7)
0800089A  2F05       946          move.l    D5,-(A7)
0800089C  2F03       947          move.l    D3,-(A7)
0800089E  4EB9 0800  948          jsr       ULDIV
080008A2  0AEC      
080008A4  2217       949          move.l    (A7),D1
080008A6  504F       950          addq.w    #8,A7
080008A8  2F01       951          move.l    D1,-(A7)
080008AA  2F02       952          move.l    D2,-(A7)
080008AC  4EB9 0800  953          jsr       @itoa_convert
080008B0  086E      
080008B2  DEFC 000C  954          add.w     #12,A7
080008B6  2400       955          move.l    D0,D2
                     956   @itoa_convert_1:
080008B8  0C84 0000  957          cmp.l     #9,D4
080008BC  0009      
080008BE  6E0E       958          bgt.s     @itoa_convert_3
080008C0  2004       959          move.l    D4,D0
080008C2  7230       960          moveq     #48,D1
080008C4  C2BC 0000  961          and.l     #255,D1
080008C8  00FF      
080008CA  D081       962          add.l     D1,D0
080008CC  6012       963          bra.s     @itoa_convert_4
                     964   @itoa_convert_3:
080008CE  2004       965          move.l    D4,D0
080008D0  7261       966          moveq     #97,D1
080008D2  C2BC 0000  967          and.l     #255,D1
080008D6  00FF      
080008D8  D081       968          add.l     D1,D0
080008DA  0480 0000  969          sub.l     #10,D0
080008DE  000A      
                     970   @itoa_convert_4:
080008E0  2042       971          move.l    D2,A0
080008E2  1080       972          move.b    D0,(A0)
080008E4  2002       973          move.l    D2,D0
080008E6  5280       974          addq.l    #1,D0
080008E8  4CDF 003C  975          movem.l   (A7)+,D2/D3/D4/D5
080008EC  4E5E       976          unlk      A6
080008EE  4E75       977          rts
                     978   _ltoa:
080008F0  4E56 0000  979          link      A6,#0
080008F4  48E7 3C00  980          movem.l   D2/D3/D4/D5,-(A7)
080008F8  242E 0008  981          move.l    8(A6),D2
080008FC  262E 000C  982          move.l    12(A6),D3
08000900  2A2E 0010  983          move.l    16(A6),D5
08000904  2803       984          move.l    D3,D4
08000906  0C85 0000  985          cmp.l     #2,D5
0800090A  0002      
0800090C  6D08       986          blt.s     ltoa_3
0800090E  0C85 0000  987          cmp.l     #36,D5
08000912  0024      
08000914  6F06       988          ble.s     ltoa_1
                     989   ltoa_3:
08000916  2003       990          move.l    D3,D0
08000918  6000 0056  991          bra       ltoa_4
                     992   ltoa_1:
0800091C  0C85 0000  993          cmp.l     #10,D5
08000920  000A      
08000922  6600 0034  994          bne       ltoa_5
08000926  0C82 0000  995          cmp.l     #0,D2
0800092A  0000      
0800092C  6C2A       996          bge.s     ltoa_5
0800092E  2002       997          move.l    D2,D0
08000930  4480       998          neg.l     D0
08000932  2400       999          move.l    D0,D2
08000934  0C82 0000 1000          cmp.l     #0,D2
08000938  0000      
0800093A  6C14      1001          bge.s     ltoa_7
0800093C  4879 0800 1002          pea       @itoa_1.L
08000940  0BDA      
08000942  2F03      1003          move.l    D3,-(A7)
08000944  4EB9 0800 1004          jsr       _strcpy
08000948  0ADC      
0800094A  504F      1005          addq.w    #8,A7
0800094C  2003      1006          move.l    D3,D0
0800094E  6020      1007          bra.s     ltoa_4
                    1008   ltoa_7:
08000950  2044      1009          move.l    D4,A0
08000952  5284      1010          addq.l    #1,D4
08000954  10BC 002D 1011          move.b    #45,(A0)
                    1012   ltoa_5:
08000958  2F05      1013          move.l    D5,-(A7)
0800095A  2F02      1014          move.l    D2,-(A7)
0800095C  2F04      1015          move.l    D4,-(A7)
0800095E  4EB9 0800 1016          jsr       @itoa_convert
08000962  086E      
08000964  DEFC 000C 1017          add.w     #12,A7
08000968  2800      1018          move.l    D0,D4
0800096A  2044      1019          move.l    D4,A0
0800096C  4210      1020          clr.b     (A0)
0800096E  2003      1021          move.l    D3,D0
                    1022   ltoa_4:
08000970  4CDF 003C 1023          movem.l   (A7)+,D2/D3/D4/D5
08000974  4E5E      1024          unlk      A6
08000976  4E75      1025          rts
                    1026   _ultoa:
08000978  4E56 0000 1027          link      A6,#0
0800097C  48E7 3800 1028          movem.l   D2/D3/D4,-(A7)
08000980  262E 0010 1029          move.l    16(A6),D3
08000984  282E 000C 1030          move.l    12(A6),D4
08000988  2404      1031          move.l    D4,D2
0800098A  0C83 0000 1032          cmp.l     #2,D3
0800098E  0002      
08000990  6D08      1033          blt.s     ultoa_3
08000992  0C83 0000 1034          cmp.l     #36,D3
08000996  0024      
08000998  6F04      1035          ble.s     ultoa_1
                    1036   ultoa_3:
0800099A  2004      1037          move.l    D4,D0
0800099C  601A      1038          bra.s     ultoa_4
                    1039   ultoa_1:
0800099E  2F03      1040          move.l    D3,-(A7)
080009A0  2F2E 0008 1041          move.l    8(A6),-(A7)
080009A4  2F02      1042          move.l    D2,-(A7)
080009A6  4EB9 0800 1043          jsr       @itoa_convert
080009AA  086E      
080009AC  DEFC 000C 1044          add.w     #12,A7
080009B0  2400      1045          move.l    D0,D2
080009B2  2042      1046          move.l    D2,A0
080009B4  4210      1047          clr.b     (A0)
080009B6  2004      1048          move.l    D4,D0
                    1049   ultoa_4:
080009B8  4CDF 001C 1050          movem.l   (A7)+,D2/D3/D4
080009BC  4E5E      1051          unlk      A6
080009BE  4E75      1052          rts
                    1053   _itoa:
080009C0  4E56 0000 1054          link      A6,#0
080009C4  2F2E 0010 1055          move.l    16(A6),-(A7)
080009C8  2F2E 000C 1056          move.l    12(A6),-(A7)
080009CC  2F2E 0008 1057          move.l    8(A6),-(A7)
080009D0  4EB9 0800 1058          jsr       _ltoa
080009D4  08F0      
080009D6  DEFC 000C 1059          add.w     #12,A7
080009DA  4E5E      1060          unlk      A6
080009DC  4E75      1061          rts
                    1062   ULMUL:
080009DE  4E56 0000 1063          link    A6,#0
080009E2  48E7 C000 1064          movem.l D0/D1,-(A7)
080009E6  222E 0008 1065          move.l  8(A6),D1
080009EA  202E 000C 1066          move.l  12(A6),D0
080009EE  602C      1067          bra.s   lmul_3
                    1068   LMUL:
080009F0  4E56 0000 1069          link    A6,#0
080009F4  48E7 C000 1070          movem.l D0/D1,-(A7)
080009F8  222E 0008 1071          move.l  8(A6),D1
080009FC  202E 000C 1072          move.l  12(A6),D0
08000A00  4A80      1073          tst.l   D0
08000A02  6A0A      1074          bpl.s   lmul_1
08000A04  4480      1075          neg.l   D0
08000A06  4A81      1076          tst.l   D1
08000A08  6A0A      1077          bpl.s   lmul_2
08000A0A  4481      1078          neg.l   D1
08000A0C  600E      1079          bra.s   lmul_3
                    1080   lmul_1:
08000A0E  4A81      1081          tst.l   D1
08000A10  6A0A      1082          bpl.s   lmul_3
08000A12  4481      1083          neg.l   D1
                    1084   lmul_2:
08000A14  6114      1085          bsr.s   domul
08000A16  4481      1086          neg.l   D1
08000A18  4080      1087          negx.l  D0
08000A1A  6002      1088          bra.s   lmul_4
                    1089   lmul_3:
08000A1C  610C      1090          bsr.s   domul
                    1091   lmul_4:
08000A1E  2D41 0008 1092          move.l  D1,8(A6)
08000A22  4CDF 0003 1093          movem.l (A7)+,D0/D1
08000A26  4E5E      1094          unlk    A6
08000A28  4E75      1095          rts
                    1096   domul:
08000A2A  0C81 0000 1097          cmpi.l  #$FFFF,D1
08000A2E  FFFF      
08000A30  620C      1098          bhi.s   domul_1
08000A32  0C80 0000 1099          cmpi.l  #$FFFF,D0
08000A36  FFFF      
08000A38  620E      1100          bhi.s   domul_2
08000A3A  C2C0      1101          mulu    D0,D1
08000A3C  4E75      1102          rts
                    1103   domul_1:
08000A3E  0C80 0000 1104          cmpi.l  #$FFFF,D0
08000A42  FFFF      
08000A44  6218      1105          bhi.s   domul_4
08000A46  6002      1106          bra.s   domul_3
                    1107   domul_2
08000A48  C141      1108          exg     D0,D1
                    1109   domul_3:
08000A4A  2F02      1110          move.l  D2,-(A7)
08000A4C  2401      1111          move.l  D1,D2
08000A4E  4842      1112          swap    D2
08000A50  C2C0      1113          mulu    D0,D1
08000A52  C4C0      1114          mulu    D0,D2
08000A54  4842      1115          swap    D2
08000A56  4242      1116          clr.w   D2
08000A58  D282      1117          add.l   D2,D1
08000A5A  241F      1118          move.l  (A7)+,D2
08000A5C  4E75      1119          rts
                    1120   domul_4:
08000A5E  48E7 3000 1121          movem.l D2/D3,-(A7)
08000A62  2401      1122          move.l  D1,D2
08000A64  2601      1123          move.l  D1,D3
08000A66  C2C0      1124          mulu    D0,D1
08000A68  4842      1125          swap    D2
08000A6A  C4C0      1126          mulu    D0,D2
08000A6C  4840      1127          swap    D0
08000A6E  C6C0      1128          mulu    D0,D3
08000A70  D483      1129          add.l   D3,D2
08000A72  4842      1130          swap    D2
08000A74  4242      1131          clr.w   D2
08000A76  D282      1132          add.l   D2,D1
08000A78  4CDF 000C 1133          movem.l (A7)+,D2/D3
08000A7C  4E75      1134          rts
                    1135   _strlen:
08000A7E  206F 0004 1136          move.l    (4,A7),A0
08000A82  2248      1137          move.l    A0,A1
                    1138   strlen_1:
08000A84  4A19      1139          tst.b     (A1)+
08000A86  66FC      1140          bne       strlen_1
08000A88  2009      1141          move.l    A1,D0
08000A8A  9088      1142          sub.l     A0,D0
08000A8C  5380      1143          subq.l    #1,D0
08000A8E  4E75      1144          rts
                    1145   _putch:
08000A90  4E56 0000 1146          link      A6,#0
08000A94  2F02      1147          move.l    D2,-(A7)
08000A96  242E 0008 1148          move.l    8(A6),D2
08000A9A  0C82 0000 1149          cmp.l     #10,D2
08000A9E  000A      
08000AA0  660C      1150          bne.s     putch_1
08000AA2  4878 000D 1151          pea       13
                    1152          jsr       __putch
********  **** ****  Error: Undefined or illegal symbol
08000AAC  584F      1153          addq.w    #4,A7
                    1154   putch_1:
08000AAE  2F02      1155          move.l    D2,-(A7)
                    1156          jsr       __putch
********  **** ****  Error: Undefined or illegal symbol
08000AB6  584F      1157          addq.w    #4,A7
08000AB8  2002      1158          move.l    D2,D0
08000ABA  241F      1159          move.l    (A7)+,D2
08000ABC  4E5E      1160          unlk      A6
08000ABE  4E75      1161          rts
                    1162   _toupper:
08000AC0  202F 0004 1163          move.l    4(A7),D0
08000AC4  0C80 0000 1164          cmp.l     #'a',D0
08000AC8  0061      
08000ACA  6D0E      1165          blt.s     toupper_1
08000ACC  0C80 0000 1166          cmp.l     #'z',D0
08000AD0  007A      
08000AD2  6E06      1167          bgt.s     toupper_1
08000AD4  0480 0000 1168          sub.l     #$20,D0
08000AD8  0020      
                    1169   toupper_1:
08000ADA  4E75      1170          rts
                    1171   _strcpy:
08000ADC  206F 0004 1172          move.l    (4,A7),A0
08000AE0  226F 0008 1173          move.l    (8,A7),A1
08000AE4  2008      1174          move.l    A0,D0
                    1175   strcpy_1:
08000AE6  10D9      1176          move.b    (A1)+,(A0)+
08000AE8  66FC      1177          bne.s     strcpy_1
08000AEA  4E75      1178          rts
                    1179   ULDIV:
08000AEC  4E56 0000 1180          link    A6,#0
08000AF0  48E7 C000 1181          movem.l D0/D1,-(A7)
08000AF4  222E 0008 1182          move.l  8(A6),D1
08000AF8  202E 000C 1183          move.l  12(A6),D0
08000AFC  6036      1184          bra.s   ldiv_3
                    1185   LDIV:
08000AFE  4E56 0000 1186          link    A6,#0
08000B02  48E7 C000 1187          movem.l D0/D1,-(A7)
08000B06  222E 0008 1188          move.l  8(A6),D1
08000B0A  202E 000C 1189          move.l  12(A6),D0
08000B0E  4A80      1190          tst.l   D0
08000B10  6A0E      1191          bpl.s   ldiv_1
08000B12  4480      1192          neg.l   D0
08000B14  4A81      1193          tst.l   D1
08000B16  6A14      1194          bpl.s   ldiv_2
08000B18  4481      1195          neg.l   D1
08000B1A  612A      1196          bsr.s   dodiv
08000B1C  4481      1197          neg.l   D1
08000B1E  6016      1198          bra.s   ldiv_4
                    1199   ldiv_1:
08000B20  4A81      1200          tst.l   D1
08000B22  6A10      1201          bpl.s   ldiv_3
08000B24  4481      1202          neg.l   D1
08000B26  611E      1203          bsr.s   dodiv
08000B28  4480      1204          neg.l   D0
08000B2A  600A      1205          bra.s   ldiv_4
                    1206   ldiv_2:
08000B2C  6118      1207          bsr.s   dodiv
08000B2E  4480      1208          neg.l   D0
08000B30  4481      1209          neg.l   D1
08000B32  6002      1210          bra.s   ldiv_4
                    1211   ldiv_3:
08000B34  6110      1212          bsr.s   dodiv
                    1213   ldiv_4:
08000B36  2D40 0008 1214          move.l  D0,8(A6)
08000B3A  2D41 000C 1215          move.l  D1,12(A6)
08000B3E  4CDF 0003 1216          movem.l (A7)+,D0/D1
08000B42  4E5E      1217          unlk    A6
08000B44  4E75      1218          rts
                    1219   dodiv:
08000B46  0C81 0000 1220          cmpi.l  #$FFFF,D1
08000B4A  FFFF      
08000B4C  6236      1221          bhi.s   dodiv_2
08000B4E  0C80 0000 1222          cmpi.l  #$FFFF,D0
08000B52  FFFF      
08000B54  6210      1223          bhi.s   dodiv_1
08000B56  80C1      1224          divu    D1,D0
08000B58  2200      1225          move.l  D0,D1
08000B5A  4241      1226          clr.w   D1
08000B5C  4841      1227          swap    D1
08000B5E  0280 0000 1228          andi.l  #$FFFF,D0
08000B62  FFFF      
08000B64  4E75      1229          rts
                    1230   dodiv_1:
08000B66  48A7 A000 1231          movem.w D0/D2,-(A7)
08000B6A  4240      1232          clr.w   D0
08000B6C  4840      1233          swap    D0
08000B6E  80C1      1234          divu    D1,D0
08000B70  3400      1235          move.w  D0,D2
08000B72  301F      1236          move.w  (A7)+,D0
08000B74  80C1      1237          divu    D1,D0
08000B76  4840      1238          swap    D0
08000B78  4281      1239          clr.l   D1
08000B7A  3200      1240          move.w  D0,D1
08000B7C  3002      1241          move.w  D2,D0
08000B7E  4840      1242          swap    D0
08000B80  341F      1243          move.w  (A7)+,D2
08000B82  4E75      1244          rts
                    1245   dodiv_2:
08000B84  48E7 3800 1246          movem.l D2/D3/D4,-(A7)
08000B88  2401      1247          move.l  D1,D2
08000B8A  4242      1248          clr.w   D2
08000B8C  4842      1249          swap    D2
08000B8E  5282      1250          addq.l  #1,D2
08000B90  2600      1251          move.l  D0,D3
08000B92  2801      1252          move.l  D1,D4
08000B94  2202      1253          move.l  D2,D1
08000B96  61CE      1254          bsr.s   dodiv_1
08000B98  2204      1255          move.l  D4,D1
08000B9A  82C2      1256          divu    D2,D1
08000B9C  80C1      1257          divu    D1,D0
08000B9E  0280 0000 1258          andi.l  #$FFFF,D0
08000BA2  FFFF      
                    1259   dodiv_3:
08000BA4  2204      1260          move.l  D4,D1
08000BA6  2404      1261          move.l  D4,D2
08000BA8  4842      1262          swap    D2
08000BAA  C2C0      1263          mulu    D0,D1
08000BAC  C4C0      1264          mulu    D0,D2
08000BAE  4842      1265          swap    D2
08000BB0  D282      1266          add.l   D2,D1
08000BB2  9283      1267          sub.l   D3,D1
08000BB4  620A      1268          bhi.s   dodiv_4
08000BB6  4481      1269          neg.l   D1
08000BB8  B881      1270          cmp.l   D1,D4
08000BBA  6208      1271          bhi.s   dodiv_5
08000BBC  5280      1272          addq.l  #1,D0
08000BBE  60E4      1273          bra.s   dodiv_3
                    1274   dodiv_4:
08000BC0  5380      1275          subq.l  #1,D0
08000BC2  60E0      1276          bra.s   dodiv_3
                    1277   dodiv_5:
08000BC4  4CDF 001C 1278          movem.l (A7)+,D2/D3/D4
08000BC8  4E75      1279          rts
                    1280          section   const
08000BCA            1281                   align
                    1282   
                    1283   
                    1284   @memory~1_1:
08000BCA  5465 7374 1285          dc.b      84,101,115,116,105,110,103,32,116,104,101,32
08000BCE  696E 6720 
08000BD2  7468 6520 
08000BD6  4C43 4400 1286          dc.b      76,67,68,0
                    1287   @itoa_1:
08000BDA  2D32 3134 1288          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
08000BDE  3734 3833 
08000BE2  3634 3800 
                    1289   __ctype:
08000BE6  0040 4040 1290          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
08000BEA  4040 4040 
08000BEE  4040 5050 
08000BF2  5050 50   
08000BF5  4040 4040 1291          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
08000BF9  4040 4040 
08000BFD  4040 4040 
08000C01  4040 40   
08000C04  4040 40D0 1292          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
08000C08  A0A0 A0A0 
08000C0C  A0A0 A0A0 
08000C10  A0A0 A0A0 1293          dc.b      160,160,160,160,160,160,160,140,140,140,140
08000C14  A0A0 A08C 
08000C18  8C8C 8C   
08000C1B  8C8C 8C8C 1294          dc.b      140,140,140,140,140,140,160,160,160,160,160
08000C1F  8C8C A0A0 
08000C23  A0A0 A0   
08000C26  A0A0 8A8A 1295          dc.b      160,160,138,138,138,138,138,138,130,130,130
08000C2A  8A8A 8A8A 
08000C2E  8282 82   
08000C31  8282 8282 1296          dc.b      130,130,130,130,130,130,130,130,130,130,130
08000C35  8282 8282 
08000C39  8282 82   
08000C3C  8282 8282 1297          dc.b      130,130,130,130,130,130,160,160,160,160,160
08000C40  8282 A0A0 
08000C44  A0A0 A0   
08000C47  A089 8989 1298          dc.b      160,137,137,137,137,137,137,129,129,129,129
08000C4B  8989 8981 
08000C4F  8181 81   
08000C52  8181 8181 1299          dc.b      129,129,129,129,129,129,129,129,129,129,129
08000C56  8181 8181 
08000C5A  8181 81   
08000C5D  8181 8181 1300          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
08000C61  81A0 A0A0 
08000C65  A040 0000 
08000C69  00        
08000C6A  0000 0000 1301          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08000C6E  0000 0000 
08000C72  0000 0000 
08000C76  0000 0000 
08000C7A  0000 0000 
08000C7E  0000      
08000C80  0000 0000 1302          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08000C84  0000 0000 
08000C88  0000 0000 
08000C8C  0000 0000 
08000C90  0000 0000 
08000C94  0000      
08000C96  0000 0000 1303          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08000C9A  0000 0000 
08000C9E  0000 0000 
08000CA2  0000 0000 
08000CA6  0000 0000 
08000CAA  0000      
08000CAC  0000 0000 1304          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08000CB0  0000 0000 
08000CB4  0000 0000 
08000CB8  0000 0000 
08000CBC  0000 0000 
08000CC0  0000      
08000CC2  0000 0000 1305          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08000CC6  0000 0000 
08000CCA  0000 0000 
08000CCE  0000 0000 
08000CD2  0000 0000 
08000CD6  0000      
08000CD8  0000 0000 1306          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08000CDC  0000 0000 
08000CE0  0000 0000 
08000CE4  0000 00   
                    1307          section   data
08000CE8            1308                   align
                    1309   
                    1310   *********************************************************************************************************************************************************
                    1311   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    1312   ********************************************************************************************************************************************************
                    1313   
          0800 0CE8 1314   DataStart       equ       *
08000CE8            1315   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
08000CEC            1316   __allocp:       ds.l      1                    start of free memory block list
08000CF0            1317   __heap:         ds.l      1                    begin of free memory
                    1318   
                    1319   
                    1320          section   bss
08000CF4            1321                   align
                    1322   
          0800 0CF4 1323   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 000C 1324   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    1325   
                    1326   *********************************************************************************************************
                    1327   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    1328   *********************************************************************************************************
          0800 0CF4 1329   BssStart       equ       *
                    1330   
                    1331          section   heap
08000CF4            1332                  align
                    1333   
          0800 0CF4 1334   BssEnd         equ       *
          0000 0000 1335   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    1336   
                    1337   *********************************************************************************************************
                    1338   * Section for Heap
                    1339   *********************************************************************************************************
                    1340   
          0800 0CF4 1341   heap           equ       *
08000CF4            1342                  align
          0800 0000

Assembly errors: 2
