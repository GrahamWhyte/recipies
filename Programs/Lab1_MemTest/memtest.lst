680x0 MACRO ASSEMBLER   Version 5.00   (c) 1992-2005 Peter J. Fondse

Date: 24 Jan 2019      Time: 17:02:27          Source: C:\M68KV6.0 - 640BY480\M68KV6.0 - 800BY480 - (VERILOG) FOR STUDENTS\PROGRAMS\LAB1_MEMTEST\MEMTEST.SRC

                       1          section   code
                       2   **********************************************************************************************************
                       3   * CSTART.ASM  -  C startup-code
                       4   *
                       5   *          Initialises the system prior to running the users main() program
                       6   *
                       7   *          1) Sets up the user program stack pointer
                       8   *          2) Switches to User mode in the 68000
                       9   *          3) Enables All Interrupts 1-7 on 68000
                      10   *          4) Copies all initialised C program variables from Rom to Ram prior to running main()
                      11   *
                      12   **********************************************************************************************************
00000000              13                   align
                      14   
                      15   
                      16   **********************************************************************************************************
                      17   * The Following ORG Statement marks the address of the start of the this CStart Program
                      18   *
                      19   * The debug Monitor and Flash Load and Program routines assume your program lives here
                      20   **********************************************************************************************************
08000000              21                   org       $08000000
08000000  46FC 2000   22   start:          move.w    #$2000,SR             clear interrupts to enable all, move to supervisor mode
                      23   
                      24   ******************************************************************************************
                      25   * Set unitialised global variables to 0 at startup
                      26   ******************************************************************************************
08000004  207C 0800   27   mainloop        movea.l   #BssStart,a0          point a0 to the start of the initialised data section held in ROM
08000008  19EA      
0800000A  203C 0000   28                   move.l    #BssLength,d0         figure out how many bytes of C program variables data to copy
0800000E  006C      
08000010  6700 0024   29                   beq       go_main               if no data to copy go straight to program
08000014  10FC 0000   30   Zeroinit        move.b    #0,(a0)+              copy the C program initialise variables from rom to ram
08000018  5380        31                   subq.l    #1,d0
0800001A  66F8        32                   bne       Zeroinit
                      33   
                      34   *******************************************************************************************
                      35   * last minute initialisation before calling main
                      36   *******************************************************************************************
                      37   
0800001C  23FC FFFF   38                   move.l    #-1,__ungetbuf         required for use of scanf() etc in C programs
08000020  FFFF 0800 
08000024  19DA      
08000026  42B9 0800   39                   clr.l     __allocp               used by malloc() in C
0800002A  19DE      
0800002C  23FC 0800   40                   move.l    #heap,__heap           pointer to free memory
08000030  1A56 0800 
08000034  19E2      
08000036  4EB9 0800   41   go_main         jsr       _main
0800003A  0240      
0800003C  60C2        42                   bra       start
                      43   
                      44   ; C:\M68KV6.0 - 640BY480\M68KV6.0 - 800BY480 - (VERILOG) FOR STUDENTS\PROGRAMS\LAB1_MEMTEST\MEMORYTEST.C - Compiled by CC68K  Version 5.00 (c) 1991-2005  Peter J. Fondse
                      45   ; #include <stdio.h>
                      46   ; #include <string.h>
                      47   ; #include <ctype.h>
                      48   ; #define uint32_t unsigned long int 
                      49   ; typedef enum {FALSE, TRUE} bool;
                      50   ; //IMPORTANT
                      51   ; //
                      52   ; // Uncomment one of the two #defines below
                      53   ; // Define StartOfExceptionVectorTable as 08030000 if running programs from sram or
                      54   ; // 0B000000 for running programs from dram
                      55   ; //
                      56   ; // In your labs, you will initially start by designing a system with SRam and later move to
                      57   ; // Dram, so these constants will need to be changed based on the version of the system you have
                      58   ; // building
                      59   ; //
                      60   ; // The working 68k system SOF file posted on canvas that you can use for your pre-lab
                      61   ; // is based around Dram so #define accordingly before building
                      62   ; #define StartOfExceptionVectorTable 0x08030000
                      63   ; //#define StartOfExceptionVectorTable 0x0B000000
                      64   ; #define memTestStart    0x08020000
                      65   ; #define memTestEnd      0x0802FFFF 
                      66   ; #define memTestFailure  0x08023FFF
                      67   ; /**********************************************************************************************
                      68   ; **	Parallel port addresses
                      69   ; **********************************************************************************************/
                      70   ; #define PortA   *(volatile unsigned char *)(0x00400000)
                      71   ; #define PortB   *(volatile unsigned char *)(0x00400002)
                      72   ; #define PortC   *(volatile unsigned char *)(0x00400004)
                      73   ; #define PortD   *(volatile unsigned char *)(0x00400006)
                      74   ; #define PortE   *(volatile unsigned char *)(0x00400008)
                      75   ; /*********************************************************************************************
                      76   ; **	Hex 7 seg displays port addresses
                      77   ; *********************************************************************************************/
                      78   ; #define HEX_A        *(volatile unsigned char *)(0x00400010)
                      79   ; #define HEX_B        *(volatile unsigned char *)(0x00400012)
                      80   ; #define HEX_C        *(volatile unsigned char *)(0x00400014)    // de2 only
                      81   ; #define HEX_D        *(volatile unsigned char *)(0x00400016)    // de2 only
                      82   ; /**********************************************************************************************
                      83   ; **	LCD display port addresses
                      84   ; **********************************************************************************************/
                      85   ; #define LCDcommand   *(volatile unsigned char *)(0x00400020)
                      86   ; #define LCDdata      *(volatile unsigned char *)(0x00400022)
                      87   ; /********************************************************************************************
                      88   ; **	Timer Port addresses
                      89   ; *********************************************************************************************/
                      90   ; #define Timer1Data      *(volatile unsigned char *)(0x00400030)
                      91   ; #define Timer1Control   *(volatile unsigned char *)(0x00400032)
                      92   ; #define Timer1Status    *(volatile unsigned char *)(0x00400032)
                      93   ; #define Timer2Data      *(volatile unsigned char *)(0x00400034)
                      94   ; #define Timer2Control   *(volatile unsigned char *)(0x00400036)
                      95   ; #define Timer2Status    *(volatile unsigned char *)(0x00400036)
                      96   ; #define Timer3Data      *(volatile unsigned char *)(0x00400038)
                      97   ; #define Timer3Control   *(volatile unsigned char *)(0x0040003A)
                      98   ; #define Timer3Status    *(volatile unsigned char *)(0x0040003A)
                      99   ; #define Timer4Data      *(volatile unsigned char *)(0x0040003C)
                     100   ; #define Timer4Control   *(volatile unsigned char *)(0x0040003E)
                     101   ; #define Timer4Status    *(volatile unsigned char *)(0x0040003E)
                     102   ; /*********************************************************************************************
                     103   ; **	RS232 port addresses
                     104   ; *********************************************************************************************/
                     105   ; #define RS232_Control     *(volatile unsigned char *)(0x00400040)
                     106   ; #define RS232_Status      *(volatile unsigned char *)(0x00400040)
                     107   ; #define RS232_TxData      *(volatile unsigned char *)(0x00400042)
                     108   ; #define RS232_RxData      *(volatile unsigned char *)(0x00400042)
                     109   ; #define RS232_Baud        *(volatile unsigned char *)(0x00400044)
                     110   ; /*********************************************************************************************
                     111   ; **	PIA 1 and 2 port addresses
                     112   ; *********************************************************************************************/
                     113   ; #define PIA1_PortA_Data     *(volatile unsigned char *)(0x00400050)         // combined data and data direction register share same address
                     114   ; #define PIA1_PortA_Control *(volatile unsigned char *)(0x00400052)
                     115   ; #define PIA1_PortB_Data     *(volatile unsigned char *)(0x00400054)         // combined data and data direction register share same address
                     116   ; #define PIA1_PortB_Control *(volatile unsigned char *)(0x00400056)
                     117   ; #define PIA2_PortA_Data     *(volatile unsigned char *)(0x00400060)         // combined data and data direction register share same address
                     118   ; #define PIA2_PortA_Control *(volatile unsigned char *)(0x00400062)
                     119   ; #define PIA2_PortB_data     *(volatile unsigned char *)(0x00400064)         // combined data and data direction register share same address
                     120   ; #define PIA2_PortB_Control *(volatile unsigned char *)(0x00400066)
                     121   ; /*********************************************************************************************************************************
                     122   ; (( DO NOT initialise global variables here, do it main even if you want 0
                     123   ; (( it's a limitation of the compiler
                     124   ; (( YOU HAVE BEEN WARNED
                     125   ; *********************************************************************************************************************************/
                     126   ; unsigned int i, x, y, z, PortA_Count;
                     127   ; unsigned char Timer1Count, Timer2Count, Timer3Count, Timer4Count ;
                     128   ; /*******************************************************************************************
                     129   ; ** Function Prototypes
                     130   ; *******************************************************************************************/
                     131   ; void Wait1ms(void);
                     132   ; void Wait3ms(void);
                     133   ; void Init_LCD(void) ;
                     134   ; void LCDOutchar(int c);
                     135   ; void LCDOutMess(char *theMessage);
                     136   ; void LCDClearln(void);
                     137   ; void LCDline1Message(char *theMessage);
                     138   ; void LCDline2Message(char *theMessage);
                     139   ; int sprintf(char *out, const char *format, ...) ;
                     140   ; /*****************************************************************************************
                     141   ; **	Interrupt service routine for Timers
                     142   ; **
                     143   ; **  Timers 1 - 4 share a common IRQ on the CPU  so this function uses polling to figure
                     144   ; **  out which timer is producing the interrupt
                     145   ; **
                     146   ; *****************************************************************************************/
                     147   ; void Timer_ISR()
                     148   ; {
                     149   _Timer_ISR:
                     150   ; if(Timer1Status == 1) {         // Did Timer 1 produce the Interrupt?
0800003E  1039 0040  151          move.b    4194354,D0
08000042  0032      
08000044  0C00 0001  152          cmp.b     #1,D0
08000048  6608       153          bne.s     Timer_ISR_1
                     154   ; Timer1Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
0800004A  13FC 0003  155          move.b    #3,4194354
0800004E  0040 0032 
                     156   Timer_ISR_1:
                     157   ; //PortA = Timer1Count++ ;     // increment an LED count on PortA with each tick of Timer 1
                     158   ; }
                     159   ; if(Timer2Status == 1) {         // Did Timer 2 produce the Interrupt?
08000052  1039 0040  160          move.b    4194358,D0
08000056  0036      
08000058  0C00 0001  161          cmp.b     #1,D0
0800005C  6608       162          bne.s     Timer_ISR_3
                     163   ; Timer2Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
0800005E  13FC 0003  164          move.b    #3,4194358
08000062  0040 0036 
                     165   Timer_ISR_3:
                     166   ; //PortC = Timer2Count++ ;     // increment an LED count on PortC with each tick of Timer 2
                     167   ; }
                     168   ; if(Timer3Status == 1) {         // Did Timer 3 produce the Interrupt?
08000066  1039 0040  169          move.b    4194362,D0
0800006A  003A      
0800006C  0C00 0001  170          cmp.b     #1,D0
08000070  6608       171          bne.s     Timer_ISR_5
                     172   ; Timer3Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
08000072  13FC 0003  173          move.b    #3,4194362
08000076  0040 003A 
                     174   Timer_ISR_5:
                     175   ; //HEX_A = Timer3Count++ ;     // increment a HEX count on Port HEX_A with each tick of Timer 3
                     176   ; }
                     177   ; if(Timer4Status == 1) {         // Did Timer 4 produce the Interrupt?
0800007A  1039 0040  178          move.b    4194366,D0
0800007E  003E      
08000080  0C00 0001  179          cmp.b     #1,D0
08000084  6608       180          bne.s     Timer_ISR_7
                     181   ; Timer4Control = 3;      	// reset the timer to clear the interrupt, enable interrupts and allow counter to run
08000086  13FC 0003  182          move.b    #3,4194366
0800008A  0040 003E 
                     183   Timer_ISR_7:
0800008E  4E75       184          rts
                     185   ; //HEX_B = Timer4Count++ ;     // increment a HEX count on HEX_B with each tick of Timer 4
                     186   ; }
                     187   ; }
                     188   ; /*****************************************************************************************
                     189   ; **	Interrupt service routine for ACIA. This device has it's own dedicate IRQ level
                     190   ; **  Add your code here to poll Status register and clear interrupt
                     191   ; *****************************************************************************************/
                     192   ; void ACIA_ISR()
                     193   ; {}
                     194   _ACIA_ISR:
08000090  4E75       195          rts
                     196   ; /***************************************************************************************
                     197   ; **	Interrupt service routine for PIAs 1 and 2. These devices share an IRQ level
                     198   ; **  Add your code here to poll Status register and clear interrupt
                     199   ; *****************************************************************************************/
                     200   ; void PIA_ISR()
                     201   ; {}
                     202   _PIA_ISR:
08000092  4E75       203          rts
                     204   ; /***********************************************************************************
                     205   ; **	Interrupt service routine for Key 2 on DE1 board. Add your own response here
                     206   ; ************************************************************************************/
                     207   ; void Key2PressISR()
                     208   ; {}
                     209   _Key2PressISR:
08000094  4E75       210          rts
                     211   ; /***********************************************************************************
                     212   ; **	Interrupt service routine for Key 1 on DE1 board. Add your own response here
                     213   ; ************************************************************************************/
                     214   ; void Key1PressISR()
                     215   ; {}
                     216   _Key1PressISR:
08000096  4E75       217          rts
                     218   ; /************************************************************************************
                     219   ; **   Delay Subroutine to give the 68000 something useless to do to waste 1 mSec
                     220   ; ************************************************************************************/
                     221   ; void Wait1ms(void)
                     222   ; {
                     223   _Wait1ms:
08000098  2F02       224          move.l    D2,-(A7)
                     225   ; int  i ;
                     226   ; for(i = 0; i < 1000; i ++)
0800009A  4282       227          clr.l     D2
                     228   Wait1ms_1:
0800009C  0C82 0000  229          cmp.l     #1000,D2
080000A0  03E8      
080000A2  6C04       230          bge.s     Wait1ms_3
080000A4  5282       231          addq.l    #1,D2
080000A6  60F4       232          bra       Wait1ms_1
                     233   Wait1ms_3:
080000A8  241F       234          move.l    (A7)+,D2
080000AA  4E75       235          rts
                     236   ; ;
                     237   ; }
                     238   ; /************************************************************************************
                     239   ; **  Subroutine to give the 68000 something useless to do to waste 3 mSec
                     240   ; **************************************************************************************/
                     241   ; void Wait3ms(void)
                     242   ; {
                     243   _Wait3ms:
080000AC  2F02       244          move.l    D2,-(A7)
                     245   ; int i ;
                     246   ; for(i = 0; i < 3; i++)
080000AE  4282       247          clr.l     D2
                     248   Wait3ms_1:
080000B0  0C82 0000  249          cmp.l     #3,D2
080000B4  0003      
080000B6  6C0A       250          bge.s     Wait3ms_3
                     251   ; Wait1ms() ;
080000B8  4EB9 0800  252          jsr       _Wait1ms
080000BC  0098      
080000BE  5282       253          addq.l    #1,D2
080000C0  60EE       254          bra       Wait3ms_1
                     255   Wait3ms_3:
080000C2  241F       256          move.l    (A7)+,D2
080000C4  4E75       257          rts
                     258   ; }
                     259   ; /*********************************************************************************************
                     260   ; **  Subroutine to initialise the LCD display by writing some commands to the LCD internal registers
                     261   ; **  Sets it for parallel port and 2 line display mode (if I recall correctly)
                     262   ; *********************************************************************************************/
                     263   ; void Init_LCD(void)
                     264   ; {
                     265   _Init_LCD:
                     266   ; LCDcommand = 0x0c ;
080000C6  13FC 000C  267          move.b    #12,4194336
080000CA  0040 0020 
                     268   ; Wait3ms() ;
080000CE  4EB9 0800  269          jsr       _Wait3ms
080000D2  00AC      
                     270   ; LCDcommand = 0x38 ;
080000D4  13FC 0038  271          move.b    #56,4194336
080000D8  0040 0020 
                     272   ; Wait3ms() ;
080000DC  4EB9 0800  273          jsr       _Wait3ms
080000E0  00AC      
080000E2  4E75       274          rts
                     275   ; }
                     276   ; /*********************************************************************************************
                     277   ; **  Subroutine to initialise the RS232 Port by writing some commands to the internal registers
                     278   ; *********************************************************************************************/
                     279   ; void Init_RS232(void)
                     280   ; {
                     281   _Init_RS232:
                     282   ; RS232_Control = 0x15 ; //  %00010101 set up 6850 uses divide by 16 clock, set RTS low, 8 bits no parity, 1 stop bit, transmitter interrupt disabled
080000E4  13FC 0015  283          move.b    #21,4194368
080000E8  0040 0040 
                     284   ; RS232_Baud = 0x1 ;      // program baud rate generator 001 = 115k, 010 = 57.6k, 011 = 38.4k, 100 = 19.2, all others = 9600
080000EC  13FC 0001  285          move.b    #1,4194372
080000F0  0040 0044 
080000F4  4E75       286          rts
                     287   ; }
                     288   ; /*********************************************************************************************************
                     289   ; **  Subroutine to provide a low level output function to 6850 ACIA
                     290   ; **  This routine provides the basic functionality to output a single character to the serial Port
                     291   ; **  to allow the board to communicate with HyperTerminal Program
                     292   ; **
                     293   ; **  NOTE you do not call this function directly, instead you call the normal putchar() function
                     294   ; **  which in turn calls _putch() below). Other functions like puts(), printf() call putchar() so will
                     295   ; **  call _putch() also
                     296   ; *********************************************************************************************************/
                     297   ; int _putch( int c)
                     298   ; {
                     299   __putch:
080000F6  4E56 0000  300          link      A6,#0
                     301   ; while((RS232_Status & (char)(0x02)) != (char)(0x02))    // wait for Tx bit in status register or 6850 serial comms chip to be '1'
                     302   _putch_1:
080000FA  1039 0040  303          move.b    4194368,D0
080000FE  0040      
08000100  C03C 0002  304          and.b     #2,D0
08000104  0C00 0002  305          cmp.b     #2,D0
08000108  6702       306          beq.s     _putch_3
0800010A  60EE       307          bra       _putch_1
                     308   _putch_3:
                     309   ; ;
                     310   ; RS232_TxData = (c & (char)(0x7f));                      // write to the data register to output the character (mask off bit 8 to keep it 7 bit ASCII)
0800010C  202E 0008  311          move.l    8(A6),D0
08000110  C0BC 0000  312          and.l     #127,D0
08000114  007F      
08000116  13C0 0040  313          move.b    D0,4194370
0800011A  0042      
                     314   ; return c ;                                              // putchar() expects the character to be returned
0800011C  202E 0008  315          move.l    8(A6),D0
08000120  4E5E       316          unlk      A6
08000122  4E75       317          rts
                     318   ; }
                     319   ; /*********************************************************************************************************
                     320   ; **  Subroutine to provide a low level input function to 6850 ACIA
                     321   ; **  This routine provides the basic functionality to input a single character from the serial Port
                     322   ; **  to allow the board to communicate with HyperTerminal Program Keyboard (your PC)
                     323   ; **
                     324   ; **  NOTE you do not call this function directly, instead you call the normal getchar() function
                     325   ; **  which in turn calls _getch() below). Other functions like gets(), scanf() call getchar() so will
                     326   ; **  call _getch() also
                     327   ; *********************************************************************************************************/
                     328   ; int _getch( void )
                     329   ; {
                     330   __getch:
08000124  4E56 FFFC  331          link      A6,#-4
                     332   ; char c ;
                     333   ; while((RS232_Status & (char)(0x01)) != (char)(0x01))    // wait for Rx bit in 6850 serial comms chip status register to be '1'
                     334   _getch_1:
08000128  1039 0040  335          move.b    4194368,D0
0800012C  0040      
0800012E  C03C 0001  336          and.b     #1,D0
08000132  0C00 0001  337          cmp.b     #1,D0
08000136  6702       338          beq.s     _getch_3
08000138  60EE       339          bra       _getch_1
                     340   _getch_3:
                     341   ; ;
                     342   ; return (RS232_RxData & (char)(0x7f));                   // read received character, mask off top bit and return as 7 bit ASCII character
0800013A  1039 0040  343          move.b    4194370,D0
0800013E  0042      
08000140  C0BC 0000  344          and.l     #255,D0
08000144  00FF      
08000146  C0BC 0000  345          and.l     #127,D0
0800014A  007F      
0800014C  4E5E       346          unlk      A6
0800014E  4E75       347          rts
                     348   ; }
                     349   ; /******************************************************************************
                     350   ; **  Subroutine to output a single character to the 2 row LCD display
                     351   ; **  It is assumed the character is an ASCII code and it will be displayed at the
                     352   ; **  current cursor position
                     353   ; *******************************************************************************/
                     354   ; void LCDOutchar(int c)
                     355   ; {
                     356   _LCDOutchar:
08000150  4E56 0000  357          link      A6,#0
                     358   ; LCDdata = (char)(c);
08000154  202E 0008  359          move.l    8(A6),D0
08000158  13C0 0040  360          move.b    D0,4194338
0800015C  0022      
                     361   ; Wait1ms() ;
0800015E  4EB9 0800  362          jsr       _Wait1ms
08000162  0098      
08000164  4E5E       363          unlk      A6
08000166  4E75       364          rts
                     365   ; }
                     366   ; /**********************************************************************************
                     367   ; *subroutine to output a message at the current cursor position of the LCD display
                     368   ; ************************************************************************************/
                     369   ; void LCDOutMessage(char *theMessage)
                     370   ; {
                     371   _LCDOutMessage:
08000168  4E56 FFFC  372          link      A6,#-4
                     373   ; char c ;
                     374   ; while((c = *theMessage++) != 0)     // output characters from the string until NULL
                     375   LCDOutMessage_1:
0800016C  206E 0008  376          move.l    8(A6),A0
08000170  52AE 0008  377          addq.l    #1,8(A6)
08000174  1D50 FFFF  378          move.b    (A0),-1(A6)
08000178  1010       379          move.b    (A0),D0
0800017A  6714       380          beq.s     LCDOutMessage_3
                     381   ; LCDOutchar(c) ;
0800017C  122E FFFF  382          move.b    -1(A6),D1
08000180  4881       383          ext.w     D1
08000182  48C1       384          ext.l     D1
08000184  2F01       385          move.l    D1,-(A7)
08000186  4EB9 0800  386          jsr       _LCDOutchar
0800018A  0150      
0800018C  584F       387          addq.w    #4,A7
0800018E  60DC       388          bra       LCDOutMessage_1
                     389   LCDOutMessage_3:
08000190  4E5E       390          unlk      A6
08000192  4E75       391          rts
                     392   ; }
                     393   ; /******************************************************************************
                     394   ; *subroutine to clear the line by issuing 24 space characters
                     395   ; *******************************************************************************/
                     396   ; void LCDClearln(void)
                     397   ; {
                     398   _LCDClearln:
08000194  2F02       399          move.l    D2,-(A7)
                     400   ; int i ;
                     401   ; for(i = 0; i < 24; i ++)
08000196  4282       402          clr.l     D2
                     403   LCDClearln_1:
08000198  0C82 0000  404          cmp.l     #24,D2
0800019C  0018      
0800019E  6C10       405          bge.s     LCDClearln_3
                     406   ; LCDOutchar(' ') ;       // write a space char to the LCD display
080001A0  4878 0020  407          pea       32
080001A4  4EB9 0800  408          jsr       _LCDOutchar
080001A8  0150      
080001AA  584F       409          addq.w    #4,A7
080001AC  5282       410          addq.l    #1,D2
080001AE  60E8       411          bra       LCDClearln_1
                     412   LCDClearln_3:
080001B0  241F       413          move.l    (A7)+,D2
080001B2  4E75       414          rts
                     415   ; }
                     416   ; /******************************************************************************
                     417   ; **  Subroutine to move the LCD cursor to the start of line 1 and clear that line
                     418   ; *******************************************************************************/
                     419   ; void LCDLine1Message(char *theMessage)
                     420   ; {
                     421   _LCDLine1Message:
080001B4  4E56 0000  422          link      A6,#0
                     423   ; LCDcommand = 0x80 ;
080001B8  13FC 0080  424          move.b    #128,4194336
080001BC  0040 0020 
                     425   ; Wait3ms();
080001C0  4EB9 0800  426          jsr       _Wait3ms
080001C4  00AC      
                     427   ; LCDClearln() ;
080001C6  4EB9 0800  428          jsr       _LCDClearln
080001CA  0194      
                     429   ; LCDcommand = 0x80 ;
080001CC  13FC 0080  430          move.b    #128,4194336
080001D0  0040 0020 
                     431   ; Wait3ms() ;
080001D4  4EB9 0800  432          jsr       _Wait3ms
080001D8  00AC      
                     433   ; LCDOutMessage(theMessage) ;
080001DA  2F2E 0008  434          move.l    8(A6),-(A7)
080001DE  4EB9 0800  435          jsr       _LCDOutMessage
080001E2  0168      
080001E4  584F       436          addq.w    #4,A7
080001E6  4E5E       437          unlk      A6
080001E8  4E75       438          rts
                     439   ; }
                     440   ; /******************************************************************************
                     441   ; **  Subroutine to move the LCD cursor to the start of line 2 and clear that line
                     442   ; *******************************************************************************/
                     443   ; void LCDLine2Message(char *theMessage)
                     444   ; {
                     445   _LCDLine2Message:
080001EA  4E56 0000  446          link      A6,#0
                     447   ; LCDcommand = 0xC0 ;
080001EE  13FC 00C0  448          move.b    #192,4194336
080001F2  0040 0020 
                     449   ; Wait3ms();
080001F6  4EB9 0800  450          jsr       _Wait3ms
080001FA  00AC      
                     451   ; LCDClearln() ;
080001FC  4EB9 0800  452          jsr       _LCDClearln
08000200  0194      
                     453   ; LCDcommand = 0xC0 ;
08000202  13FC 00C0  454          move.b    #192,4194336
08000206  0040 0020 
                     455   ; Wait3ms() ;
0800020A  4EB9 0800  456          jsr       _Wait3ms
0800020E  00AC      
                     457   ; LCDOutMessage(theMessage) ;
08000210  2F2E 0008  458          move.l    8(A6),-(A7)
08000214  4EB9 0800  459          jsr       _LCDOutMessage
08000218  0168      
0800021A  584F       460          addq.w    #4,A7
0800021C  4E5E       461          unlk      A6
0800021E  4E75       462          rts
                     463   ; }
                     464   ; /*********************************************************************************************************************************
                     465   ; **  IMPORTANT FUNCTION
                     466   ; **  This function install an exception handler so you can capture and deal with any 68000 exception in your program
                     467   ; **  You pass it the name of a function in your code that will get called in response to the exception (as the 1st parameter)
                     468   ; **  and in the 2nd parameter, you pass it the exception number that you want to take over (see 68000 exceptions for details)
                     469   ; **  Calling this function allows you to deal with Interrupts for example
                     470   ; ***********************************************************************************************************************************/
                     471   ; void InstallExceptionHandler( void (*function_ptr)(), int level)
                     472   ; {
                     473   _InstallExceptionHandler:
08000220  4E56 FFFC  474          link      A6,#-4
                     475   ; volatile long int *RamVectorAddress = (volatile long int *)(StartOfExceptionVectorTable) ;   // pointer to the Ram based interrupt vector table created in Cstart in debug monitor
08000224  2D7C 0803  476          move.l    #134414336,-4(A6)
08000228  0000 FFFC 
                     477   ; RamVectorAddress[level] = (long int *)(function_ptr);                       // install the address of our function into the exception table
0800022C  206E FFFC  478          move.l    -4(A6),A0
08000230  202E 000C  479          move.l    12(A6),D0
08000234  E588       480          lsl.l     #2,D0
08000236  21AE 0008  481          move.l    8(A6),0(A0,D0.L)
0800023A  0800      
0800023C  4E5E       482          unlk      A6
0800023E  4E75       483          rts
                     484   ; }
                     485   ; /******************************************************************************************************************************
                     486   ; * Start of user program
                     487   ; ******************************************************************************************************************************/
                     488   ; void main()
                     489   ; {
                     490   _main:
08000240  4E56 FF50  491          link      A6,#-176
08000244  48E7 3C30  492          movem.l   D2/D3/D4/D5/A2/A3,-(A7)
08000248  45F9 0800  493          lea       _printf.L,A2
0800024C  0CDE      
0800024E  47F9 0800  494          lea       _InstallExceptionHandler.L,A3
08000252  0220      
                     495   ; unsigned int row, i=0, count=0, counter1=1;
08000254  42AE FF54  496          clr.l     -172(A6)
08000258  42AE FF58  497          clr.l     -168(A6)
0800025C  2D7C 0000  498          move.l    #1,-164(A6)
08000260  0001 FF5C 
                     499   ; uint32_t *ramPtr, *failureLocation;
                     500   ; uint32_t writeVar, readVar; 
                     501   ; bool failure = FALSE; 
08000264  4245       502          clr.w     D5
                     503   ; char c, text[150] ;
                     504   ; int PassFailFlag = 1 ;
08000266  2D7C 0000  505          move.l    #1,-4(A6)
0800026A  0001 FFFC 
                     506   ; i = x = y = z = PortA_Count =0;
0800026E  42B9 0800  507          clr.l     _PortA_Count.L
08000272  19FA      
08000274  42B9 0800  508          clr.l     _z.L
08000278  19F6      
0800027A  42B9 0800  509          clr.l     _y.L
0800027E  19F2      
08000280  42B9 0800  510          clr.l     _x.L
08000284  19EE      
08000286  42AE FF54  511          clr.l     -172(A6)
                     512   ; Timer1Count = Timer2Count = Timer3Count = Timer4Count = 0;
0800028A  4239 0800  513          clr.b     _Timer4Count.L
0800028E  1A04      
08000290  4239 0800  514          clr.b     _Timer3Count.L
08000294  1A02      
08000296  4239 0800  515          clr.b     _Timer2Count.L
0800029A  1A00      
0800029C  4239 0800  516          clr.b     _Timer1Count.L
080002A0  19FE      
                     517   ; InstallExceptionHandler(PIA_ISR, 25) ;          // install interrupt handler for PIAs 1 and 2 on level 1 IRQ
080002A2  4878 0019  518          pea       25
080002A6  4879 0800  519          pea       _PIA_ISR.L
080002AA  0092      
080002AC  4E93       520          jsr       (A3)
080002AE  504F       521          addq.w    #8,A7
                     522   ; InstallExceptionHandler(ACIA_ISR, 26) ;		    // install interrupt handler for ACIA on level 2 IRQ
080002B0  4878 001A  523          pea       26
080002B4  4879 0800  524          pea       _ACIA_ISR.L
080002B8  0090      
080002BA  4E93       525          jsr       (A3)
080002BC  504F       526          addq.w    #8,A7
                     527   ; InstallExceptionHandler(Timer_ISR, 27) ;		// install interrupt handler for Timers 1-4 on level 3 IRQ
080002BE  4878 001B  528          pea       27
080002C2  4879 0800  529          pea       _Timer_ISR.L
080002C6  003E      
080002C8  4E93       530          jsr       (A3)
080002CA  504F       531          addq.w    #8,A7
                     532   ; InstallExceptionHandler(Key2PressISR, 28) ;	    // install interrupt handler for Key Press 2 on DE1 board for level 4 IRQ
080002CC  4878 001C  533          pea       28
080002D0  4879 0800  534          pea       _Key2PressISR.L
080002D4  0094      
080002D6  4E93       535          jsr       (A3)
080002D8  504F       536          addq.w    #8,A7
                     537   ; InstallExceptionHandler(Key1PressISR, 29) ;	    // install interrupt handler for Key Press 1 on DE1 board for level 5 IRQ
080002DA  4878 001D  538          pea       29
080002DE  4879 0800  539          pea       _Key1PressISR.L
080002E2  0096      
080002E4  4E93       540          jsr       (A3)
080002E6  504F       541          addq.w    #8,A7
                     542   ; Timer1Data = 0x10;		// program time delay into timers 1-4
080002E8  13FC 0010  543          move.b    #16,4194352
080002EC  0040 0030 
                     544   ; Timer2Data = 0x20;
080002F0  13FC 0020  545          move.b    #32,4194356
080002F4  0040 0034 
                     546   ; Timer3Data = 0x15;
080002F8  13FC 0015  547          move.b    #21,4194360
080002FC  0040 0038 
                     548   ; Timer4Data = 0x25;
08000300  13FC 0025  549          move.b    #37,4194364
08000304  0040 003C 
                     550   ; Timer1Control = 3;		// write 3 to control register to Bit0 = 1 (enable interrupt from timers) 1 - 4 and allow them to count Bit 1 = 1
08000308  13FC 0003  551          move.b    #3,4194354
0800030C  0040 0032 
                     552   ; Timer2Control = 3;
08000310  13FC 0003  553          move.b    #3,4194358
08000314  0040 0036 
                     554   ; Timer3Control = 3;
08000318  13FC 0003  555          move.b    #3,4194362
0800031C  0040 003A 
                     556   ; Timer4Control = 3;
08000320  13FC 0003  557          move.b    #3,4194366
08000324  0040 003E 
                     558   ; Init_LCD();             // initialise the LCD display to use a parallel data interface and 2 lines of display
08000328  4EB9 0800  559          jsr       _Init_LCD
0800032C  00C6      
                     560   ; Init_RS232() ;          // initialise the RS232 port for use with hyper terminal
0800032E  4EB9 0800  561          jsr       _Init_RS232
08000332  00E4      
                     562   ; // Write to memory
                     563   ; ramPtr = (uint32_t*)memTestStart;
08000334  243C 0802  564          move.l    #134348800,D2
08000338  0000      
                     565   ; writeVar = 0xFEE1DEAD; 
0800033A  263C FEE1  566          move.l    #-18751827,D3
0800033E  DEAD      
                     567   ; scanflush() ;
08000340  4EB9 0800  568          jsr       _scanflush
08000344  065C      
                     569   ; printf("\r\nStarting memory address: %X ", ramPtr) ;
08000346  2F02       570          move.l    D2,-(A7)
08000348  4879 0800  571          pea       @memory~1_1.L
0800034C  1838      
0800034E  4E92       572          jsr       (A2)
08000350  504F       573          addq.w    #8,A7
                     574   ; while (ramPtr < memTestEnd)
                     575   main_1:
08000352  0C82 0802  576          cmp.l     #134414335,D2
08000356  FFFF      
08000358  6408       577          bhs.s     main_3
                     578   ; {
                     579   ; *ramPtr = writeVar; 
0800035A  2042       580          move.l    D2,A0
0800035C  2083       581          move.l    D3,(A0)
                     582   ; ramPtr++; 
0800035E  5882       583          addq.l    #4,D2
08000360  60F0       584          bra       main_1
                     585   main_3:
                     586   ; }
                     587   ; printf("\r\nEnding memory address: %X ", ramPtr) ;
08000362  2F02       588          move.l    D2,-(A7)
08000364  4879 0800  589          pea       @memory~1_2.L
08000368  1858      
0800036A  4E92       590          jsr       (A2)
0800036C  504F       591          addq.w    #8,A7
                     592   ; // Inject failure
                     593   ; failureLocation = (uint32_t*)memTestFailure; 
0800036E  2D7C 0802  594          move.l    #134365183,-160(A6)
08000372  3FFF FF60 
                     595   ; *failureLocation = 0xCCCCCCCC; 
08000376  206E FF60  596          move.l    -160(A6),A0
0800037A  20BC CCCC  597          move.l    #-858993460,(A0)
0800037E  CCCC      
                     598   ; // Reset ramPtr and read from memory
                     599   ; ramPtr = (uint32_t*)memTestStart;
08000380  243C 0802  600          move.l    #134348800,D2
08000384  0000      
                     601   ; while (ramPtr < memTestEnd)
                     602   main_4:
08000386  0C82 0802  603          cmp.l     #134414335,D2
0800038A  FFFF      
0800038C  6410       604          bhs.s     main_6
                     605   ; {
                     606   ; readVar = *ramPtr; 
0800038E  2042       607          move.l    D2,A0
08000390  2810       608          move.l    (A0),D4
                     609   ; if (readVar != writeVar)
08000392  B883       610          cmp.l     D3,D4
08000394  6704       611          beq.s     main_7
                     612   ; {
                     613   ; failure = TRUE; 
08000396  7A01       614          moveq     #1,D5
                     615   ; break; 
08000398  6004       616          bra.s     main_6
                     617   main_7:
                     618   ; }
                     619   ; ramPtr++; 
0800039A  5882       620          addq.l    #4,D2
0800039C  60E8       621          bra       main_4
                     622   main_6:
                     623   ; }
                     624   ; if (failure)
0800039E  4A45       625          tst.w     D5
080003A0  6726       626          beq.s     main_9
                     627   ; {
                     628   ; printf("\r\nFailed at address %X", ramPtr); 
080003A2  2F02       629          move.l    D2,-(A7)
080003A4  4879 0800  630          pea       @memory~1_3.L
080003A8  1876      
080003AA  4E92       631          jsr       (A2)
080003AC  504F       632          addq.w    #8,A7
                     633   ; printf("\r\nExpected value: %X", writeVar);
080003AE  2F03       634          move.l    D3,-(A7)
080003B0  4879 0800  635          pea       @memory~1_4.L
080003B4  188E      
080003B6  4E92       636          jsr       (A2)
080003B8  504F       637          addq.w    #8,A7
                     638   ; printf("\r\nActual Value: %X", readVar); 
080003BA  2F04       639          move.l    D4,-(A7)
080003BC  4879 0800  640          pea       @memory~1_5.L
080003C0  18A4      
080003C2  4E92       641          jsr       (A2)
080003C4  504F       642          addq.w    #8,A7
080003C6  600A       643          bra.s     main_10
                     644   main_9:
                     645   ; }
                     646   ; else
                     647   ; {
                     648   ; printf("\r\nMem Test Passed");
080003C8  4879 0800  649          pea       @memory~1_6.L
080003CC  18B8      
080003CE  4E92       650          jsr       (A2)
080003D0  584F       651          addq.w    #4,A7
                     652   main_10:
080003D2  4CDF 0C3C  653          movem.l   (A7)+,D2/D3/D4/D5/A2/A3
080003D6  4E5E       654          unlk      A6
080003D8  4E75       655          rts
                     656   ; }
                     657   ; /*************************************************************************************************
                     658   ; **  Test of scanf function
                     659   ; *************************************************************************************************/
                     660   ; // scanflush() ;                       // flush any text that may have been typed ahead
                     661   ; // printf("\r\nEnter Integer: ") ;
                     662   ; // scanf("%d", &i) ;
                     663   ; // printf("You entered %d", i) ;
                     664   ; // sprintf(text, "Hello CPEN 412 Student") ;
                     665   ; // LCDLine1Message(text) ;
                     666   ; // printf("\r\nHello CPEN 412 Student\r\nYour LEDs should be Flashing") ;
                     667   ; // printf("\r\nYour LCD should be displaying") ;
                     668   ; // while(1)
                     669   ; //     ;
                     670   ; // programs should NOT exit as there is nothing to Exit TO !!!!!!
                     671   ; // There is no OS - just press the reset button to end program and call debug
                     672   ; }
                     673   @doscan_read:
080003DA  4E56 FFFC  674          link      A6,#-4
080003DE  2F0A       675          move.l    A2,-(A7)
080003E0  45F9 0800  676          lea       @doscan_lpbuf.L,A2
080003E4  19E6      
080003E6  4AAE 0008  677          tst.l     8(A6)
080003EA  6700 0032  678          beq       @doscan_read_1
080003EE  206E 0008  679          move.l    8(A6),A0
080003F2  58AE 0008  680          addq.l    #4,8(A6)
080003F6  2050       681          move.l    (A0),A0
080003F8  1010       682          move.b    (A0),D0
080003FA  4880       683          ext.w     D0
080003FC  48C0       684          ext.l     D0
080003FE  2D40 FFFC  685          move.l    D0,-4(A6)
08000402  4201       686          clr.b     D1
08000404  C2BC 0000  687          and.l     #255,D1
08000408  00FF      
0800040A  B081       688          cmp.l     D1,D0
0800040C  6706       689          beq.s     @doscan_read_3
0800040E  202E FFFC  690          move.l    -4(A6),D0
08000412  6006       691          bra.s     @doscan_read_4
                     692   @doscan_read_3:
08000414  70FF       693          moveq     #-1,D0
08000416  4880       694          ext.w     D0
08000418  48C0       695          ext.l     D0
                     696   @doscan_read_4:
0800041A  6000 0036  697          bra       @doscan_read_5
                     698   @doscan_read_1:
0800041E  2052       699          move.l    (A2),A0
08000420  1010       700          move.b    (A0),D0
08000422  6624       701          bne.s     @doscan_read_6
08000424  4879 0800  702          pea       @doscan_buf.L
08000428  1A06      
0800042A  4EB9 0800  703          jsr       _gets
0800042E  0DAE      
08000430  584F       704          addq.w    #4,A7
08000432  2480       705          move.l    D0,(A2)
08000434  4879 0800  706          pea       @doscan_1.L
08000438  18CA      
0800043A  4879 0800  707          pea       @doscan_buf.L
0800043E  1A06      
08000440  4EB9 0800  708          jsr       _strcat
08000444  0E40      
08000446  504F       709          addq.w    #8,A7
                     710   @doscan_read_6:
08000448  2052       711          move.l    (A2),A0
0800044A  5292       712          addq.l    #1,(A2)
0800044C  1010       713          move.b    (A0),D0
0800044E  4880       714          ext.w     D0
08000450  48C0       715          ext.l     D0
                     716   @doscan_read_5:
08000452  245F       717          move.l    (A7)+,A2
08000454  4E5E       718          unlk      A6
08000456  4E75       719          rts
                     720   @doscan_putback:
08000458  4E56 0000  721          link      A6,#0
0800045C  48E7 3000  722          movem.l   D2/D3,-(A7)
08000460  242E 000C  723          move.l    12(A6),D2
08000464  262E 0008  724          move.l    8(A6),D3
08000468  6718       725          beq.s     @doscan_putback_1
0800046A  0C82 FFFF  726          cmp.l     #-1,D2
0800046E  FFFF      
08000470  670A       727          beq.s     @doscan_putback_3
08000472  5983       728          subq.l    #4,D3
08000474  2043       729          move.l    D3,A0
08000476  2050       730          move.l    (A0),A0
08000478  1082       731          move.b    D2,(A0)
0800047A  6004       732          bra.s     @doscan_putback_4
                     733   @doscan_putback_3:
0800047C  2043       734          move.l    D3,A0
0800047E  5390       735          subq.l    #1,(A0)
                     736   @doscan_putback_4:
08000480  6030       737          bra.s     @doscan_putback_6
                     738   @doscan_putback_1:
08000482  41F9 0800  739          lea       @doscan_buf.L,A0
08000486  1A06      
08000488  2008       740          move.l    A0,D0
0800048A  B0B9 0800  741          cmp.l     @doscan_lpbuf.L,D0
0800048E  19E6      
08000490  6612       742          bne.s     @doscan_putback_5
08000492  4239 0800  743          clr.b     @doscan_buf.L
08000496  1A06      
08000498  2F02       744          move.l    D2,-(A7)
0800049A  4EB9 0800  745          jsr       _ungetch
0800049E  0E72      
080004A0  584F       746          addq.w    #4,A7
080004A2  600E       747          bra.s     @doscan_putback_6
                     748   @doscan_putback_5:
080004A4  53B9 0800  749          subq.l    #1,@doscan_lpbuf.L
080004A8  19E6      
080004AA  2079 0800  750          move.l    @doscan_lpbuf.L,A0
080004AE  19E6      
080004B0  1082       751          move.b    D2,(A0)
                     752   @doscan_putback_6:
080004B2  2002       753          move.l    D2,D0
080004B4  4CDF 000C  754          movem.l   (A7)+,D2/D3
080004B8  4E5E       755          unlk      A6
080004BA  4E75       756          rts
                     757   @doscan_space:
080004BC  4E56 0000  758          link      A6,#0
080004C0  2F02       759          move.l    D2,-(A7)
                     760   @doscan_space_1:
080004C2  2F2E 0008  761          move.l    8(A6),-(A7)
080004C6  4EB9 0800  762          jsr       @doscan_read
080004CA  03DA      
080004CC  584F       763          addq.w    #4,A7
080004CE  2400       764          move.l    D0,D2
080004D0  206E 000C  765          move.l    12(A6),A0
080004D4  5290       766          addq.l    #1,(A0)
080004D6  2002       767          move.l    D2,D0
080004D8  5280       768          addq.l    #1,D0
080004DA  41F9 0800  769          lea       __ctype.L,A0
080004DE  18CC      
080004E0  1030 0800  770          move.b    0(A0,D0.L),D0
080004E4  C03C 0010  771          and.b     #16,D0
080004E8  66D8       772          bne       @doscan_space_1
080004EA  2002       773          move.l    D2,D0
080004EC  241F       774          move.l    (A7)+,D2
080004EE  4E5E       775          unlk      A6
080004F0  4E75       776          rts
                     777   @doscan_select:
080004F2  4E56 0000  778          link      A6,#0
080004F6  48E7 3F20  779          movem.l   D2/D3/D4/D5/D6/D7/A2,-(A7)
080004FA  262E 000C  780          move.l    12(A6),D3
080004FE  2C2E 0018  781          move.l    24(A6),D6
08000502  2E2E 0014  782          move.l    20(A6),D7
08000506  2043       783          move.l    D3,A0
08000508  1010       784          move.b    (A0),D0
0800050A  0C00 005E  785          cmp.b     #94,D0
0800050E  6608       786          bne.s     @doscan_select_1
08000510  347C 0001  787          move.w    #1,A2
08000514  5283       788          addq.l    #1,D3
08000516  6004       789          bra.s     @doscan_select_2
                     790   @doscan_select_1:
08000518  347C 0000  791          move.w    #0,A2
                     792   @doscan_select_2:
0800051C  202E 0010  793          move.l    16(A6),D0
08000520  53AE 0010  794          subq.l    #1,16(A6)
08000524  4A80       795          tst.l     D0
08000526  6700 00F6  796          beq       @doscan_select_5
0800052A  2F2E 0008  797          move.l    8(A6),-(A7)
0800052E  4EB9 0800  798          jsr       @doscan_read
08000532  03DA      
08000534  584F       799          addq.w    #4,A7
08000536  2800       800          move.l    D0,D4
08000538  0C84 FFFF  801          cmp.l     #-1,D4
0800053C  FFFF      
0800053E  6604       802          bne.s     @doscan_select_6
08000540  6000 00DC  803          bra       @doscan_select_5
                     804   @doscan_select_6:
08000544  206E 001C  805          move.l    28(A6),A0
08000548  5290       806          addq.l    #1,(A0)
0800054A  4285       807          clr.l     D5
0800054C  4282       808          clr.l     D2
                     809   @doscan_select_8:
0800054E  2043       810          move.l    D3,A0
08000550  1030 2800  811          move.b    0(A0,D2.L),D0
08000554  0C00 005D  812          cmp.b     #93,D0
08000558  6700 0086  813          beq       @doscan_select_10
0800055C  4A82       814          tst.l     D2
0800055E  6710       815          beq.s     @doscan_select_11
08000560  2043       816          move.l    D3,A0
08000562  1030 2800  817          move.b    0(A0,D2.L),D0
08000566  0C00 005D  818          cmp.b     #93,D0
0800056A  6604       819          bne.s     @doscan_select_11
0800056C  6000 0072  820          bra       @doscan_select_10
                     821   @doscan_select_11:
08000570  4A82       822          tst.l     D2
08000572  6700 0056  823          beq       @doscan_select_15
08000576  2043       824          move.l    D3,A0
08000578  1030 2800  825          move.b    0(A0,D2.L),D0
0800057C  0C00 002D  826          cmp.b     #45,D0
08000580  6600 0048  827          bne       @doscan_select_15
08000584  2043       828          move.l    D3,A0
08000586  2002       829          move.l    D2,D0
08000588  5380       830          subq.l    #1,D0
0800058A  2243       831          move.l    D3,A1
0800058C  2202       832          move.l    D2,D1
0800058E  5281       833          addq.l    #1,D1
08000590  2F00       834          move.l    D0,-(A7)
08000592  1030 0800  835          move.b    0(A0,D0.L),D0
08000596  B031 1800  836          cmp.b     0(A1,D1.L),D0
0800059A  6C00 002E  837          bge       @doscan_select_15
0800059E  201F       838          move.l    (A7)+,D0
080005A0  2043       839          move.l    D3,A0
080005A2  2002       840          move.l    D2,D0
080005A4  5380       841          subq.l    #1,D0
080005A6  1030 0800  842          move.b    0(A0,D0.L),D0
080005AA  4880       843          ext.w     D0
080005AC  48C0       844          ext.l     D0
080005AE  B880       845          cmp.l     D0,D4
080005B0  6D14       846          blt.s     @doscan_select_17
080005B2  2043       847          move.l    D3,A0
080005B4  2002       848          move.l    D2,D0
080005B6  5280       849          addq.l    #1,D0
080005B8  1030 0800  850          move.b    0(A0,D0.L),D0
080005BC  4880       851          ext.w     D0
080005BE  48C0       852          ext.l     D0
080005C0  B880       853          cmp.l     D0,D4
080005C2  6E02       854          bgt.s     @doscan_select_17
080005C4  601A       855          bra.s     @doscan_select_10
                     856   @doscan_select_17:
080005C6  5282       857          addq.l    #1,D2
080005C8  6010       858          bra.s     @doscan_select_19
                     859   @doscan_select_15:
080005CA  2043       860          move.l    D3,A0
080005CC  1030 2800  861          move.b    0(A0,D2.L),D0
080005D0  4880       862          ext.w     D0
080005D2  48C0       863          ext.l     D0
080005D4  B880       864          cmp.l     D0,D4
080005D6  6602       865          bne.s     @doscan_select_19
080005D8  6006       866          bra.s     @doscan_select_10
                     867   @doscan_select_19:
080005DA  5282       868          addq.l    #1,D2
080005DC  6000 FF70  869          bra       @doscan_select_8
                     870   @doscan_select_10:
080005E0  4A82       871          tst.l     D2
080005E2  670C       872          beq.s     @doscan_select_23
080005E4  2043       873          move.l    D3,A0
080005E6  1030 2800  874          move.b    0(A0,D2.L),D0
080005EA  0C00 005D  875          cmp.b     #93,D0
080005EE  6702       876          beq.s     @doscan_select_21
                     877   @doscan_select_23:
080005F0  7A01       878          moveq     #1,D5
                     879   @doscan_select_21:
080005F2  200A       880          move.l    A2,D0
080005F4  6712       881          beq.s     @doscan_select_24
080005F6  4A85       882          tst.l     D5
080005F8  660C       883          bne.s     @doscan_select_26
080005FA  4A87       884          tst.l     D7
080005FC  6606       885          bne.s     @doscan_select_28
080005FE  2046       886          move.l    D6,A0
08000600  5286       887          addq.l    #1,D6
08000602  1084       888          move.b    D4,(A0)
                     889   @doscan_select_28:
08000604  6014       890          bra.s     @doscan_select_4
                     891   @doscan_select_26:
08000606  6016       892          bra.s     @doscan_select_5
                     893   @doscan_select_24:
08000608  4A85       894          tst.l     D5
0800060A  670C       895          beq.s     @doscan_select_30
0800060C  4A87       896          tst.l     D7
0800060E  6606       897          bne.s     @doscan_select_32
08000610  2046       898          move.l    D6,A0
08000612  5286       899          addq.l    #1,D6
08000614  1084       900          move.b    D4,(A0)
                     901   @doscan_select_32:
08000616  6002       902          bra.s     @doscan_select_4
                     903   @doscan_select_30:
08000618  6004       904          bra.s     @doscan_select_5
                     905   @doscan_select_4:
0800061A  6000 FF00  906          bra       @doscan_select_2
                     907   @doscan_select_5:
0800061E  0C84 FFFF  908          cmp.l     #-1,D4
08000622  FFFF      
08000624  6714       909          beq.s     @doscan_select_34
08000626  2F04       910          move.l    D4,-(A7)
08000628  2F2E 0008  911          move.l    8(A6),-(A7)
0800062C  4EB9 0800  912          jsr       @doscan_putback
08000630  0458      
08000632  504F       913          addq.w    #8,A7
08000634  206E 001C  914          move.l    28(A6),A0
08000638  5390       915          subq.l    #1,(A0)
                     916   @doscan_select_34:
0800063A  4A87       917          tst.l     D7
0800063C  6604       918          bne.s     @doscan_select_36
0800063E  2046       919          move.l    D6,A0
08000640  4210       920          clr.b     (A0)
                     921   @doscan_select_36:
08000642  5283       922          addq.l    #1,D3
08000644  2043       923          move.l    D3,A0
08000646  1010       924          move.b    (A0),D0
08000648  0C00 005D  925          cmp.b     #93,D0
0800064C  6702       926          beq.s     @doscan_select_40
0800064E  60F2       927          bra       @doscan_select_36
                     928   @doscan_select_40:
08000650  5283       929          addq.l    #1,D3
08000652  2003       930          move.l    D3,D0
08000654  4CDF 04FC  931          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2
08000658  4E5E       932          unlk      A6
0800065A  4E75       933          rts
                     934   _scanflush:
0800065C  41F9 0800  935          lea       @doscan_buf.L,A0
08000660  1A06      
08000662  23C8 0800  936          move.l    A0,@doscan_lpbuf.L
08000666  19E6      
08000668  4239 0800  937          clr.b     @doscan_buf.L
0800066C  1A06      
0800066E  4878 FFFF  938          pea       -1
08000672  4EB9 0800  939          jsr       _ungetch
08000676  0E72      
08000678  584F       940          addq.w    #4,A7
0800067A  4E75       941          rts
                     942   _doscan:
0800067C  4E56 FF88  943          link      A6,#-120
08000680  48E7 3F3C  944          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000684  47F9 0800  945          lea       @doscan_read.L,A3
08000688  03DA      
0800068A  4AAE 0008  946          tst.l     8(A6)
0800068E  6706       947          beq.s     doscan_1
08000690  41EE 0008  948          lea       8(A6),A0
08000694  6008       949          bra.s     doscan_2
                     950   doscan_1:
08000696  4200       951          clr.b     D0
08000698  4880       952          ext.w     D0
0800069A  48C0       953          ext.l     D0
0800069C  2040       954          move.l    D0,A0
                     955   doscan_2:
0800069E  2A08       956          move.l    A0,D5
080006A0  42AE FFE4  957          clr.l     -28(A6)
080006A4  4284       958          clr.l     D4
                     959   doscan_3:
080006A6  206E 000C  960          move.l    12(A6),A0
080006AA  52AE 000C  961          addq.l    #1,12(A6)
080006AE  1010       962          move.b    (A0),D0
080006B0  4880       963          ext.w     D0
080006B2  48C0       964          ext.l     D0
080006B4  2600       965          move.l    D0,D3
080006B6  4201       966          clr.b     D1
080006B8  C2BC 0000  967          and.l     #255,D1
080006BC  00FF      
080006BE  B081       968          cmp.l     D1,D0
080006C0  6700 0612  969          beq       doscan_5
080006C4  4286       970          clr.l     D6
080006C6  387C 0000  971          move.w    #0,A4
080006CA  0C83 0000  972          cmp.l     #32,D3
080006CE  0020      
080006D0  6712       973          beq.s     doscan_8
080006D2  0C83 0000  974          cmp.l     #9,D3
080006D6  0009      
080006D8  670A       975          beq.s     doscan_8
080006DA  0C83 0000  976          cmp.l     #10,D3
080006DE  000A      
080006E0  6600 0050  977          bne       doscan_6
                     978   doscan_8:
080006E4  2F05       979          move.l    D5,-(A7)
080006E6  4E93       980          jsr       (A3)
080006E8  584F       981          addq.w    #4,A7
080006EA  2400       982          move.l    D0,D2
080006EC  52AE FFE4  983          addq.l    #1,-28(A6)
080006F0  0C82 FFFF  984          cmp.l     #-1,D2
080006F4  FFFF      
080006F6  6612       985          bne.s     doscan_11
080006F8  4A84       986          tst.l     D4
080006FA  6704       987          beq.s     doscan_13
080006FC  2004       988          move.l    D4,D0
080006FE  6006       989          bra.s     doscan_14
                     990   doscan_13:
08000700  70FF       991          moveq     #-1,D0
08000702  4880       992          ext.w     D0
08000704  48C0       993          ext.l     D0
                     994   doscan_14:
08000706  6000 05CE  995          bra       doscan_15
                     996   doscan_11:
0800070A  2002       997          move.l    D2,D0
0800070C  5280       998          addq.l    #1,D0
0800070E  41F9 0800  999          lea       __ctype.L,A0
08000712  18CC      
08000714  1030 0800 1000          move.b    0(A0,D0.L),D0
08000718  C03C 0010 1001          and.b     #16,D0
0800071C  66C6      1002          bne       doscan_8
0800071E  53AE FFE4 1003          subq.l    #1,-28(A6)
08000722  2F02      1004          move.l    D2,-(A7)
08000724  2F05      1005          move.l    D5,-(A7)
08000726  4EB9 0800 1006          jsr       @doscan_putback
0800072A  0458      
0800072C  504F      1007          addq.w    #8,A7
0800072E  6000 05A0 1008          bra       doscan_141
                    1009   doscan_6:
08000732  0C83 0000 1010          cmp.l     #37,D3
08000736  0025      
08000738  6600 055A 1011          bne       doscan_129
0800073C  206E 000C 1012          move.l    12(A6),A0
08000740  52AE 000C 1013          addq.l    #1,12(A6)
08000744  1010      1014          move.b    (A0),D0
08000746  4880      1015          ext.w     D0
08000748  48C0      1016          ext.l     D0
0800074A  2600      1017          move.l    D0,D3
0800074C  42AE FFEC 1018          clr.l     -20(A6)
08000750  4286      1019          clr.l     D6
08000752  42AE FFE8 1020          clr.l     -24(A6)
08000756  347C 7FFF 1021          move.w    #32767,A2
0800075A  0C83 0000 1022          cmp.l     #42,D3
0800075E  002A      
08000760  6612      1023          bne.s     doscan_18
08000762  7C01      1024          moveq     #1,D6
08000764  206E 000C 1025          move.l    12(A6),A0
08000768  52AE 000C 1026          addq.l    #1,12(A6)
0800076C  1010      1027          move.b    (A0),D0
0800076E  4880      1028          ext.w     D0
08000770  48C0      1029          ext.l     D0
08000772  2600      1030          move.l    D0,D3
                    1031   doscan_18:
08000774  2003      1032          move.l    D3,D0
08000776  5280      1033          addq.l    #1,D0
08000778  41F9 0800 1034          lea       __ctype.L,A0
0800077C  18CC      
0800077E  1030 0800 1035          move.b    0(A0,D0.L),D0
08000782  C03C 0004 1036          and.b     #4,D0
08000786  6700 004C 1037          beq       doscan_24
0800078A  2003      1038          move.l    D3,D0
0800078C  0480 0000 1039          sub.l     #48,D0
08000790  0030      
08000792  2440      1040          move.l    D0,A2
                    1041   doscan_22:
08000794  206E 000C 1042          move.l    12(A6),A0
08000798  52AE 000C 1043          addq.l    #1,12(A6)
0800079C  1010      1044          move.b    (A0),D0
0800079E  4880      1045          ext.w     D0
080007A0  48C0      1046          ext.l     D0
080007A2  2600      1047          move.l    D0,D3
080007A4  5280      1048          addq.l    #1,D0
080007A6  41F9 0800 1049          lea       __ctype.L,A0
080007AA  18CC      
080007AC  1030 0800 1050          move.b    0(A0,D0.L),D0
080007B0  C03C 0004 1051          and.b     #4,D0
080007B4  671E      1052          beq.s     doscan_24
080007B6  2F0A      1053          move.l    A2,-(A7)
080007B8  4878 000A 1054          pea       10
080007BC  4EB9 0800 1055          jsr       LMUL
080007C0  0D20      
080007C2  2017      1056          move.l    (A7),D0
080007C4  504F      1057          addq.w    #8,A7
080007C6  2203      1058          move.l    D3,D1
080007C8  0481 0000 1059          sub.l     #48,D1
080007CC  0030      
080007CE  D081      1060          add.l     D1,D0
080007D0  2440      1061          move.l    D0,A2
080007D2  60C0      1062          bra       doscan_22
                    1063   doscan_24:
080007D4  0C83 0000 1064          cmp.l     #108,D3
080007D8  006C      
080007DA  6708      1065          beq.s     doscan_27
080007DC  0C83 0000 1066          cmp.l     #76,D3
080007E0  004C      
080007E2  661A      1067          bne.s     doscan_25
                    1068   doscan_27:
080007E4  2D7C 0000 1069          move.l    #1,-24(A6)
080007E8  0001 FFE8 
080007EC  206E 000C 1070          move.l    12(A6),A0
080007F0  52AE 000C 1071          addq.l    #1,12(A6)
080007F4  1010      1072          move.b    (A0),D0
080007F6  4880      1073          ext.w     D0
080007F8  48C0      1074          ext.l     D0
080007FA  2600      1075          move.l    D0,D3
080007FC  6020      1076          bra.s     doscan_28
                    1077   doscan_25:
080007FE  0C83 0000 1078          cmp.l     #104,D3
08000802  0068      
08000804  6618      1079          bne.s     doscan_28
08000806  2D7C 0000 1080          move.l    #1,-20(A6)
0800080A  0001 FFEC 
0800080E  206E 000C 1081          move.l    12(A6),A0
08000812  52AE 000C 1082          addq.l    #1,12(A6)
08000816  1010      1083          move.b    (A0),D0
08000818  4880      1084          ext.w     D0
0800081A  48C0      1085          ext.l     D0
0800081C  2600      1086          move.l    D0,D3
                    1087   doscan_28:
0800081E  0C83 0000 1088          cmp.l     #91,D3
08000822  005B      
08000824  6600 0038 1089          bne       doscan_30
08000828  4A86      1090          tst.l     D6
0800082A  660A      1091          bne.s     doscan_32
0800082C  206E 0010 1092          move.l    16(A6),A0
08000830  58AE 0010 1093          addq.l    #4,16(A6)
08000834  2E10      1094          move.l    (A0),D7
                    1095   doscan_32:
08000836  486E FFE4 1096          pea       -28(A6)
0800083A  2F07      1097          move.l    D7,-(A7)
0800083C  2F06      1098          move.l    D6,-(A7)
0800083E  2F0A      1099          move.l    A2,-(A7)
08000840  2F2E 000C 1100          move.l    12(A6),-(A7)
08000844  2F05      1101          move.l    D5,-(A7)
08000846  4EB9 0800 1102          jsr       @doscan_select
0800084A  04F2      
0800084C  DEFC 0018 1103          add.w     #24,A7
08000850  2D40 000C 1104          move.l    D0,12(A6)
08000854  4A86      1105          tst.l     D6
08000856  6602      1106          bne.s     doscan_34
08000858  5284      1107          addq.l    #1,D4
                    1108   doscan_34:
0800085A  6000 0474 1109          bra       doscan_141
                    1110   doscan_30:
0800085E  0C83 0000 1111          cmp.l     #110,D3
08000862  006E      
08000864  661A      1112          bne.s     doscan_36
08000866  4A86      1113          tst.l     D6
08000868  6612      1114          bne.s     doscan_38
0800086A  206E 0010 1115          move.l    16(A6),A0
0800086E  58AE 0010 1116          addq.l    #4,16(A6)
08000872  2E10      1117          move.l    (A0),D7
08000874  2047      1118          move.l    D7,A0
08000876  20AE FFE4 1119          move.l    -28(A6),(A0)
0800087A  5284      1120          addq.l    #1,D4
                    1121   doscan_38:
0800087C  6000 0452 1122          bra       doscan_141
                    1123   doscan_36:
08000880  0C83 0000 1124          cmp.l     #115,D3
08000884  0073      
08000886  6600 00C4 1125          bne       doscan_40
0800088A  486E FFE4 1126          pea       -28(A6)
0800088E  2F05      1127          move.l    D5,-(A7)
08000890  4EB9 0800 1128          jsr       @doscan_space
08000894  04BC      
08000896  504F      1129          addq.w    #8,A7
08000898  2400      1130          move.l    D0,D2
0800089A  4A86      1131          tst.l     D6
0800089C  660A      1132          bne.s     doscan_42
0800089E  206E 0010 1133          move.l    16(A6),A0
080008A2  58AE 0010 1134          addq.l    #4,16(A6)
080008A6  2E10      1135          move.l    (A0),D7
                    1136   doscan_42:
080008A8  52AE FFE4 1137          addq.l    #1,-28(A6)
                    1138   doscan_44:
080008AC  200A      1139          move.l    A2,D0
080008AE  534A      1140          subq.w    #1,A2
080008B0  4A80      1141          tst.l     D0
080008B2  6700 0048 1142          beq       doscan_46
080008B6  2002      1143          move.l    D2,D0
080008B8  5280      1144          addq.l    #1,D0
080008BA  41F9 0800 1145          lea       __ctype.L,A0
080008BE  18CC      
080008C0  1030 0800 1146          move.b    0(A0,D0.L),D0
080008C4  C03C 0010 1147          and.b     #16,D0
080008C8  6604      1148          bne.s     doscan_47
080008CA  7001      1149          moveq     #1,D0
080008CC  6002      1150          bra.s     doscan_48
                    1151   doscan_47:
080008CE  4280      1152          clr.l     D0
                    1153   doscan_48:
080008D0  C0BC 0000 1154          and.l     #255,D0
080008D4  00FF      
080008D6  6724      1155          beq.s     doscan_46
080008D8  0C82 FFFF 1156          cmp.l     #-1,D2
080008DC  FFFF      
080008DE  671C      1157          beq.s     doscan_46
080008E0  387C 0001 1158          move.w    #1,A4
080008E4  4A86      1159          tst.l     D6
080008E6  6606      1160          bne.s     doscan_49
080008E8  2047      1161          move.l    D7,A0
080008EA  5287      1162          addq.l    #1,D7
080008EC  1082      1163          move.b    D2,(A0)
                    1164   doscan_49:
080008EE  2F05      1165          move.l    D5,-(A7)
080008F0  4E93      1166          jsr       (A3)
080008F2  584F      1167          addq.w    #4,A7
080008F4  2400      1168          move.l    D0,D2
080008F6  52AE FFE4 1169          addq.l    #1,-28(A6)
080008FA  60B0      1170          bra       doscan_44
                    1171   doscan_46:
080008FC  4A86      1172          tst.l     D6
080008FE  660A      1173          bne.s     doscan_53
08000900  2047      1174          move.l    D7,A0
08000902  4210      1175          clr.b     (A0)
08000904  200C      1176          move.l    A4,D0
08000906  6702      1177          beq.s     doscan_53
08000908  5284      1178          addq.l    #1,D4
                    1179   doscan_53:
0800090A  0C82 FFFF 1180          cmp.l     #-1,D2
0800090E  FFFF      
08000910  6708      1181          beq.s     doscan_57
08000912  4A86      1182          tst.l     D6
08000914  6622      1183          bne.s     doscan_55
08000916  200C      1184          move.l    A4,D0
08000918  661E      1185          bne.s     doscan_55
                    1186   doscan_57:
0800091A  4A84      1187          tst.l     D4
0800091C  6704      1188          beq.s     doscan_58
0800091E  2004      1189          move.l    D4,D0
08000920  6012      1190          bra.s     doscan_61
                    1191   doscan_58:
08000922  0C82 FFFF 1192          cmp.l     #-1,D2
08000926  FFFF      
08000928  6608      1193          bne.s     doscan_60
0800092A  70FF      1194          moveq     #-1,D0
0800092C  4880      1195          ext.w     D0
0800092E  48C0      1196          ext.l     D0
08000930  6002      1197          bra.s     doscan_61
                    1198   doscan_60:
08000932  2004      1199          move.l    D4,D0
                    1200   doscan_61:
08000934  6000 03A0 1201          bra       doscan_15
                    1202   doscan_55:
08000938  53AE FFE4 1203          subq.l    #1,-28(A6)
0800093C  2F02      1204          move.l    D2,-(A7)
0800093E  2F05      1205          move.l    D5,-(A7)
08000940  4EB9 0800 1206          jsr       @doscan_putback
08000944  0458      
08000946  504F      1207          addq.w    #8,A7
08000948  6000 0386 1208          bra       doscan_141
                    1209   doscan_40:
0800094C  0C83 0000 1210          cmp.l     #99,D3
08000950  0063      
08000952  6600 0094 1211          bne       doscan_62
08000956  4A86      1212          tst.l     D6
08000958  660A      1213          bne.s     doscan_64
0800095A  206E 0010 1214          move.l    16(A6),A0
0800095E  58AE 0010 1215          addq.l    #4,16(A6)
08000962  2E10      1216          move.l    (A0),D7
                    1217   doscan_64:
08000964  2F05      1218          move.l    D5,-(A7)
08000966  4E93      1219          jsr       (A3)
08000968  584F      1220          addq.w    #4,A7
0800096A  2400      1221          move.l    D0,D2
0800096C  52AE FFE4 1222          addq.l    #1,-28(A6)
08000970  200A      1223          move.l    A2,D0
08000972  0C80 0000 1224          cmp.l     #32767,D0
08000976  7FFF      
08000978  6604      1225          bne.s     doscan_66
0800097A  347C 0001 1226          move.w    #1,A2
                    1227   doscan_66:
0800097E  0C82 FFFF 1228          cmp.l     #-1,D2
08000982  FFFF      
08000984  6606      1229          bne.s     doscan_68
08000986  4A86      1230          tst.l     D6
08000988  6602      1231          bne.s     doscan_68
0800098A  5384      1232          subq.l    #1,D4
                    1233   doscan_68:
0800098C  200A      1234          move.l    A2,D0
0800098E  534A      1235          subq.w    #1,A2
08000990  4A80      1236          tst.l     D0
08000992  6720      1237          beq.s     doscan_72
08000994  0C82 FFFF 1238          cmp.l     #-1,D2
08000998  FFFF      
0800099A  6718      1239          beq.s     doscan_72
0800099C  4A86      1240          tst.l     D6
0800099E  6606      1241          bne.s     doscan_73
080009A0  2047      1242          move.l    D7,A0
080009A2  5287      1243          addq.l    #1,D7
080009A4  1082      1244          move.b    D2,(A0)
                    1245   doscan_73:
080009A6  2F05      1246          move.l    D5,-(A7)
080009A8  4E93      1247          jsr       (A3)
080009AA  584F      1248          addq.w    #4,A7
080009AC  2400      1249          move.l    D0,D2
080009AE  52AE FFE4 1250          addq.l    #1,-28(A6)
080009B2  60D8      1251          bra       doscan_68
                    1252   doscan_72:
080009B4  0C82 FFFF 1253          cmp.l     #-1,D2
080009B8  FFFF      
080009BA  6612      1254          bne.s     doscan_75
080009BC  4A84      1255          tst.l     D4
080009BE  6704      1256          beq.s     doscan_77
080009C0  2004      1257          move.l    D4,D0
080009C2  6006      1258          bra.s     doscan_78
                    1259   doscan_77:
080009C4  70FF      1260          moveq     #-1,D0
080009C6  4880      1261          ext.w     D0
080009C8  48C0      1262          ext.l     D0
                    1263   doscan_78:
080009CA  6000 030A 1264          bra       doscan_15
                    1265   doscan_75:
080009CE  4A86      1266          tst.l     D6
080009D0  6602      1267          bne.s     doscan_79
080009D2  5284      1268          addq.l    #1,D4
                    1269   doscan_79:
080009D4  53AE FFE4 1270          subq.l    #1,-28(A6)
080009D8  2F02      1271          move.l    D2,-(A7)
080009DA  2F05      1272          move.l    D5,-(A7)
080009DC  4EB9 0800 1273          jsr       @doscan_putback
080009E0  0458      
080009E2  504F      1274          addq.w    #8,A7
080009E4  6000 02EA 1275          bra       doscan_141
                    1276   doscan_62:
080009E8  0C83 0000 1277          cmp.l     #105,D3
080009EC  0069      
080009EE  6600 0068 1278          bne       doscan_84
080009F2  486E FFE4 1279          pea       -28(A6)
080009F6  2F05      1280          move.l    D5,-(A7)
080009F8  4EB9 0800 1281          jsr       @doscan_space
080009FC  04BC      
080009FE  504F      1282          addq.w    #8,A7
08000A00  2400      1283          move.l    D0,D2
08000A02  0C82 0000 1284          cmp.l     #48,D2
08000A06  0030      
08000A08  6600 003C 1285          bne       doscan_83
08000A0C  387C 0001 1286          move.w    #1,A4
08000A10  2F05      1287          move.l    D5,-(A7)
08000A12  4E93      1288          jsr       (A3)
08000A14  584F      1289          addq.w    #4,A7
08000A16  2400      1290          move.l    D0,D2
08000A18  2F02      1291          move.l    D2,-(A7)
08000A1A  4EB9 0800 1292          jsr       _tolower
08000A1E  0E24      
08000A20  584F      1293          addq.w    #4,A7
08000A22  0C80 0000 1294          cmp.l     #120,D0
08000A26  0078      
08000A28  6604      1295          bne.s     doscan_85
08000A2A  7678      1296          moveq     #120,D3
08000A2C  6012      1297          bra.s     doscan_86
                    1298   doscan_85:
08000A2E  53AE FFE4 1299          subq.l    #1,-28(A6)
08000A32  2F02      1300          move.l    D2,-(A7)
08000A34  2F05      1301          move.l    D5,-(A7)
08000A36  4EB9 0800 1302          jsr       @doscan_putback
08000A3A  0458      
08000A3C  504F      1303          addq.w    #8,A7
08000A3E  766F      1304          moveq     #111,D3
                    1305   doscan_86:
08000A40  52AE FFE4 1306          addq.l    #1,-28(A6)
08000A44  6012      1307          bra.s     doscan_84
                    1308   doscan_83:
08000A46  53AE FFE4 1309          subq.l    #1,-28(A6)
08000A4A  2F02      1310          move.l    D2,-(A7)
08000A4C  2F05      1311          move.l    D5,-(A7)
08000A4E  4EB9 0800 1312          jsr       @doscan_putback
08000A52  0458      
08000A54  504F      1313          addq.w    #8,A7
08000A56  7664      1314          moveq     #100,D3
                    1315   doscan_84:
08000A58  0C83 0000 1316          cmp.l     #100,D3
08000A5C  0064      
08000A5E  671A      1317          beq.s     doscan_89
08000A60  0C83 0000 1318          cmp.l     #117,D3
08000A64  0075      
08000A66  6712      1319          beq.s     doscan_89
08000A68  0C83 0000 1320          cmp.l     #120,D3
08000A6C  0078      
08000A6E  670A      1321          beq.s     doscan_89
08000A70  0C83 0000 1322          cmp.l     #111,D3
08000A74  006F      
08000A76  6600 01CE 1323          bne       doscan_87
                    1324   doscan_89:
08000A7A  486E FFE4 1325          pea       -28(A6)
08000A7E  2F05      1326          move.l    D5,-(A7)
08000A80  4EB9 0800 1327          jsr       @doscan_space
08000A84  04BC      
08000A86  504F      1328          addq.w    #8,A7
08000A88  2400      1329          move.l    D0,D2
08000A8A  2D7C 0000 1330          move.l    #10,-4(A6)
08000A8E  000A FFFC 
08000A92  0C83 0000 1331          cmp.l     #120,D3
08000A96  0078      
08000A98  6608      1332          bne.s     doscan_90
08000A9A  2D7C 0000 1333          move.l    #16,-4(A6)
08000A9E  0010 FFFC 
                    1334   doscan_90:
08000AA2  0C83 0000 1335          cmp.l     #111,D3
08000AA6  006F      
08000AA8  6608      1336          bne.s     doscan_92
08000AAA  2D7C 0000 1337          move.l    #8,-4(A6)
08000AAE  0008 FFFC 
                    1338   doscan_92:
08000AB2  4A86      1339          tst.l     D6
08000AB4  660A      1340          bne.s     doscan_94
08000AB6  206E 0010 1341          move.l    16(A6),A0
08000ABA  58AE 0010 1342          addq.l    #4,16(A6)
08000ABE  2E10      1343          move.l    (A0),D7
                    1344   doscan_94:
08000AC0  42AE FFE0 1345          clr.l     -32(A6)
08000AC4  52AE FFE4 1346          addq.l    #1,-28(A6)
08000AC8  0C83 0000 1347          cmp.l     #117,D3
08000ACC  0075      
08000ACE  6720      1348          beq.s     doscan_96
08000AD0  0C82 0000 1349          cmp.l     #45,D2
08000AD4  002D      
08000AD6  6618      1350          bne.s     doscan_96
08000AD8  2F05      1351          move.l    D5,-(A7)
08000ADA  4E93      1352          jsr       (A3)
08000ADC  584F      1353          addq.w    #4,A7
08000ADE  2400      1354          move.l    D0,D2
08000AE0  52AE FFE4 1355          addq.l    #1,-28(A6)
08000AE4  2D7C 0000 1356          move.l    #1,-32(A6)
08000AE8  0001 FFE0 
08000AEC  387C 0001 1357          move.w    #1,A4
                    1358   doscan_96:
08000AF0  3A7C 0000 1359          move.w    #0,A5
08000AF4  0C82 FFFF 1360          cmp.l     #-1,D2
08000AF8  FFFF      
08000AFA  6612      1361          bne.s     doscan_98
08000AFC  4A84      1362          tst.l     D4
08000AFE  6704      1363          beq.s     doscan_100
08000B00  2004      1364          move.l    D4,D0
08000B02  6006      1365          bra.s     doscan_101
                    1366   doscan_100:
08000B04  70FF      1367          moveq     #-1,D0
08000B06  4880      1368          ext.w     D0
08000B08  48C0      1369          ext.l     D0
                    1370   doscan_101:
08000B0A  6000 01CA 1371          bra       doscan_15
                    1372   doscan_98:
08000B0E  200A      1373          move.l    A2,D0
08000B10  534A      1374          subq.w    #1,A2
08000B12  4A80      1375          tst.l     D0
08000B14  6700 00AA 1376          beq       doscan_104
08000B18  0C83 0000 1377          cmp.l     #120,D3
08000B1C  0078      
08000B1E  6624      1378          bne.s     doscan_106
08000B20  2F02      1379          move.l    D2,-(A7)
08000B22  4EB9 0800 1380          jsr       _toupper
08000B26  0E56      
08000B28  584F      1381          addq.w    #4,A7
08000B2A  0C80 0000 1382          cmp.l     #65,D0
08000B2E  0041      
08000B30  6D12      1383          blt.s     doscan_106
08000B32  2F02      1384          move.l    D2,-(A7)
08000B34  4EB9 0800 1385          jsr       _toupper
08000B38  0E56      
08000B3A  584F      1386          addq.w    #4,A7
08000B3C  0C80 0000 1387          cmp.l     #70,D0
08000B40  0046      
08000B42  6F1C      1388          ble.s     doscan_105
                    1389   doscan_106:
08000B44  2002      1390          move.l    D2,D0
08000B46  5280      1391          addq.l    #1,D0
08000B48  41F9 0800 1392          lea       __ctype.L,A0
08000B4C  18CC      
08000B4E  1030 0800 1393          move.b    0(A0,D0.L),D0
08000B52  C03C 0004 1394          and.b     #4,D0
08000B56  C0BC 0000 1395          and.l     #255,D0
08000B5A  00FF      
08000B5C  6700 0062 1396          beq       doscan_104
                    1397   doscan_105:
08000B60  2002      1398          move.l    D2,D0
08000B62  5280      1399          addq.l    #1,D0
08000B64  41F9 0800 1400          lea       __ctype.L,A0
08000B68  18CC      
08000B6A  1030 0800 1401          move.b    0(A0,D0.L),D0
08000B6E  C03C 0004 1402          and.b     #4,D0
08000B72  661E      1403          bne.s     doscan_107
08000B74  2F02      1404          move.l    D2,-(A7)
08000B76  4EB9 0800 1405          jsr       _toupper
08000B7A  0E56      
08000B7C  584F      1406          addq.w    #4,A7
08000B7E  0480 0000 1407          sub.l     #65,D0
08000B82  0041      
08000B84  0680 0000 1408          add.l     #10,D0
08000B88  000A      
08000B8A  0680 0000 1409          add.l     #48,D0
08000B8E  0030      
08000B90  2400      1410          move.l    D0,D2
                    1411   doscan_107:
08000B92  2F0D      1412          move.l    A5,-(A7)
08000B94  2F2E FFFC 1413          move.l    -4(A6),-(A7)
08000B98  4EB9 0800 1414          jsr       LMUL
08000B9C  0D20      
08000B9E  2017      1415          move.l    (A7),D0
08000BA0  504F      1416          addq.w    #8,A7
08000BA2  D082      1417          add.l     D2,D0
08000BA4  0480 0000 1418          sub.l     #48,D0
08000BA8  0030      
08000BAA  2A40      1419          move.l    D0,A5
08000BAC  2F05      1420          move.l    D5,-(A7)
08000BAE  4E93      1421          jsr       (A3)
08000BB0  584F      1422          addq.w    #4,A7
08000BB2  2400      1423          move.l    D0,D2
08000BB4  52AE FFE4 1424          addq.l    #1,-28(A6)
08000BB8  387C 0001 1425          move.w    #1,A4
08000BBC  6000 FF50 1426          bra       doscan_98
                    1427   doscan_104:
08000BC0  0C82 FFFF 1428          cmp.l     #-1,D2
08000BC4  FFFF      
08000BC6  671C      1429          beq.s     doscan_109
08000BC8  2F02      1430          move.l    D2,-(A7)
08000BCA  2F05      1431          move.l    D5,-(A7)
08000BCC  4EB9 0800 1432          jsr       @doscan_putback
08000BD0  0458      
08000BD2  504F      1433          addq.w    #8,A7
08000BD4  53AE FFE4 1434          subq.l    #1,-28(A6)
08000BD8  200C      1435          move.l    A4,D0
08000BDA  6606      1436          bne.s     doscan_111
08000BDC  2004      1437          move.l    D4,D0
08000BDE  6000 00F6 1438          bra       doscan_15
                    1439   doscan_111:
08000BE2  6016      1440          bra.s     doscan_113
                    1441   doscan_109:
08000BE4  200C      1442          move.l    A4,D0
08000BE6  6612      1443          bne.s     doscan_113
08000BE8  4A84      1444          tst.l     D4
08000BEA  6704      1445          beq.s     doscan_115
08000BEC  2004      1446          move.l    D4,D0
08000BEE  6006      1447          bra.s     doscan_116
                    1448   doscan_115:
08000BF0  70FF      1449          moveq     #-1,D0
08000BF2  4880      1450          ext.w     D0
08000BF4  48C0      1451          ext.l     D0
                    1452   doscan_116:
08000BF6  6000 00DE 1453          bra       doscan_15
                    1454   doscan_113:
08000BFA  4AAE FFE0 1455          tst.l     -32(A6)
08000BFE  6706      1456          beq.s     doscan_117
08000C00  200D      1457          move.l    A5,D0
08000C02  4480      1458          neg.l     D0
08000C04  2A40      1459          move.l    D0,A5
                    1460   doscan_117:
08000C06  4A86      1461          tst.l     D6
08000C08  661E      1462          bne.s     doscan_119
08000C0A  4AAE FFE8 1463          tst.l     -24(A6)
08000C0E  6706      1464          beq.s     doscan_121
08000C10  2047      1465          move.l    D7,A0
08000C12  208D      1466          move.l    A5,(A0)
08000C14  6010      1467          bra.s     doscan_124
                    1468   doscan_121:
08000C16  4AAE FFEC 1469          tst.l     -20(A6)
08000C1A  6706      1470          beq.s     doscan_123
08000C1C  2047      1471          move.l    D7,A0
08000C1E  308D      1472          move.w    A5,(A0)
08000C20  6004      1473          bra.s     doscan_124
                    1474   doscan_123:
08000C22  2047      1475          move.l    D7,A0
08000C24  208D      1476          move.l    A5,(A0)
                    1477   doscan_124:
08000C26  5284      1478          addq.l    #1,D4
                    1479   doscan_119:
08000C28  0C82 FFFF 1480          cmp.l     #-1,D2
08000C2C  FFFF      
08000C2E  6612      1481          bne.s     doscan_125
08000C30  4A84      1482          tst.l     D4
08000C32  6704      1483          beq.s     doscan_127
08000C34  2004      1484          move.l    D4,D0
08000C36  6006      1485          bra.s     doscan_128
                    1486   doscan_127:
08000C38  70FF      1487          moveq     #-1,D0
08000C3A  4880      1488          ext.w     D0
08000C3C  48C0      1489          ext.l     D0
                    1490   doscan_128:
08000C3E  6000 0096 1491          bra       doscan_15
                    1492   doscan_125:
08000C42  6000 008C 1493          bra       doscan_141
                    1494   doscan_87:
08000C46  0C83 0000 1495          cmp.l     #37,D3
08000C4A  0025      
08000C4C  6600 0046 1496          bne       doscan_129
08000C50  2F05      1497          move.l    D5,-(A7)
08000C52  4E93      1498          jsr       (A3)
08000C54  584F      1499          addq.w    #4,A7
08000C56  2400      1500          move.l    D0,D2
08000C58  0C82 FFFF 1501          cmp.l     #-1,D2
08000C5C  FFFF      
08000C5E  6612      1502          bne.s     doscan_131
08000C60  4A84      1503          tst.l     D4
08000C62  6704      1504          beq.s     doscan_133
08000C64  2004      1505          move.l    D4,D0
08000C66  6006      1506          bra.s     doscan_134
                    1507   doscan_133:
08000C68  70FF      1508          moveq     #-1,D0
08000C6A  4880      1509          ext.w     D0
08000C6C  48C0      1510          ext.l     D0
                    1511   doscan_134:
08000C6E  6000 0066 1512          bra       doscan_15
                    1513   doscan_131:
08000C72  52AE FFE4 1514          addq.l    #1,-28(A6)
08000C76  B483      1515          cmp.l     D3,D2
08000C78  6716      1516          beq.s     doscan_135
08000C7A  2F02      1517          move.l    D2,-(A7)
08000C7C  2F05      1518          move.l    D5,-(A7)
08000C7E  4EB9 0800 1519          jsr       @doscan_putback
08000C82  0458      
08000C84  504F      1520          addq.w    #8,A7
08000C86  53AE FFE4 1521          subq.l    #1,-28(A6)
08000C8A  2004      1522          move.l    D4,D0
08000C8C  6000 0048 1523          bra       doscan_15
                    1524   doscan_135:
08000C90  6000 003E 1525          bra       doscan_141
                    1526   doscan_129:
08000C94  2F05      1527          move.l    D5,-(A7)
08000C96  4E93      1528          jsr       (A3)
08000C98  584F      1529          addq.w    #4,A7
08000C9A  2400      1530          move.l    D0,D2
08000C9C  52AE FFE4 1531          addq.l    #1,-28(A6)
08000CA0  0C82 FFFF 1532          cmp.l     #-1,D2
08000CA4  FFFF      
08000CA6  6610      1533          bne.s     doscan_137
08000CA8  4A84      1534          tst.l     D4
08000CAA  6704      1535          beq.s     doscan_139
08000CAC  2004      1536          move.l    D4,D0
08000CAE  6006      1537          bra.s     doscan_140
                    1538   doscan_139:
08000CB0  70FF      1539          moveq     #-1,D0
08000CB2  4880      1540          ext.w     D0
08000CB4  48C0      1541          ext.l     D0
                    1542   doscan_140:
08000CB6  601E      1543          bra.s     doscan_15
                    1544   doscan_137:
08000CB8  B483      1545          cmp.l     D3,D2
08000CBA  6714      1546          beq.s     doscan_141
08000CBC  2F02      1547          move.l    D2,-(A7)
08000CBE  2F05      1548          move.l    D5,-(A7)
08000CC0  4EB9 0800 1549          jsr       @doscan_putback
08000CC4  0458      
08000CC6  504F      1550          addq.w    #8,A7
08000CC8  53AE FFE4 1551          subq.l    #1,-28(A6)
08000CCC  2004      1552          move.l    D4,D0
08000CCE  6006      1553          bra.s     doscan_15
                    1554   doscan_141:
08000CD0  6000 F9D4 1555          bra       doscan_3
                    1556   doscan_5:
08000CD4  2004      1557          move.l    D4,D0
                    1558   doscan_15:
08000CD6  4CDF 3CFC 1559          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
08000CDA  4E5E      1560          unlk      A6
08000CDC  4E75      1561          rts
                    1562   _printf:
08000CDE  4E56 FFFC 1563          link      A6,#-4
08000CE2  2F02      1564          move.l    D2,-(A7)
08000CE4  41EE 0008 1565          lea       8(A6),A0
08000CE8  5848      1566          addq.w    #4,A0
08000CEA  2408      1567          move.l    A0,D2
08000CEC  2F02      1568          move.l    D2,-(A7)
08000CEE  2F2E 0008 1569          move.l    8(A6),-(A7)
08000CF2  42A7      1570          clr.l     -(A7)
08000CF4  4EB9 0800 1571          jsr       _doprint
08000CF8  0F2E      
08000CFA  DEFC 000C 1572          add.w     #12,A7
08000CFE  2D40 FFFC 1573          move.l    D0,-4(A6)
08000D02  4282      1574          clr.l     D2
08000D04  202E FFFC 1575          move.l    -4(A6),D0
08000D08  241F      1576          move.l    (A7)+,D2
08000D0A  4E5E      1577          unlk      A6
08000D0C  4E75      1578          rts
                    1579   ULMUL:
08000D0E  4E56 0000 1580          link    A6,#0
08000D12  48E7 C000 1581          movem.l D0/D1,-(A7)
08000D16  222E 0008 1582          move.l  8(A6),D1
08000D1A  202E 000C 1583          move.l  12(A6),D0
08000D1E  602C      1584          bra.s   lmul_3
                    1585   LMUL:
08000D20  4E56 0000 1586          link    A6,#0
08000D24  48E7 C000 1587          movem.l D0/D1,-(A7)
08000D28  222E 0008 1588          move.l  8(A6),D1
08000D2C  202E 000C 1589          move.l  12(A6),D0
08000D30  4A80      1590          tst.l   D0
08000D32  6A0A      1591          bpl.s   lmul_1
08000D34  4480      1592          neg.l   D0
08000D36  4A81      1593          tst.l   D1
08000D38  6A0A      1594          bpl.s   lmul_2
08000D3A  4481      1595          neg.l   D1
08000D3C  600E      1596          bra.s   lmul_3
                    1597   lmul_1:
08000D3E  4A81      1598          tst.l   D1
08000D40  6A0A      1599          bpl.s   lmul_3
08000D42  4481      1600          neg.l   D1
                    1601   lmul_2:
08000D44  6114      1602          bsr.s   domul
08000D46  4481      1603          neg.l   D1
08000D48  4080      1604          negx.l  D0
08000D4A  6002      1605          bra.s   lmul_4
                    1606   lmul_3:
08000D4C  610C      1607          bsr.s   domul
                    1608   lmul_4:
08000D4E  2D41 0008 1609          move.l  D1,8(A6)
08000D52  4CDF 0003 1610          movem.l (A7)+,D0/D1
08000D56  4E5E      1611          unlk    A6
08000D58  4E75      1612          rts
                    1613   domul:
08000D5A  0C81 0000 1614          cmpi.l  #$FFFF,D1
08000D5E  FFFF      
08000D60  620C      1615          bhi.s   domul_1
08000D62  0C80 0000 1616          cmpi.l  #$FFFF,D0
08000D66  FFFF      
08000D68  620E      1617          bhi.s   domul_2
08000D6A  C2C0      1618          mulu    D0,D1
08000D6C  4E75      1619          rts
                    1620   domul_1:
08000D6E  0C80 0000 1621          cmpi.l  #$FFFF,D0
08000D72  FFFF      
08000D74  6218      1622          bhi.s   domul_4
08000D76  6002      1623          bra.s   domul_3
                    1624   domul_2
08000D78  C141      1625          exg     D0,D1
                    1626   domul_3:
08000D7A  2F02      1627          move.l  D2,-(A7)
08000D7C  2401      1628          move.l  D1,D2
08000D7E  4842      1629          swap    D2
08000D80  C2C0      1630          mulu    D0,D1
08000D82  C4C0      1631          mulu    D0,D2
08000D84  4842      1632          swap    D2
08000D86  4242      1633          clr.w   D2
08000D88  D282      1634          add.l   D2,D1
08000D8A  241F      1635          move.l  (A7)+,D2
08000D8C  4E75      1636          rts
                    1637   domul_4:
08000D8E  48E7 3000 1638          movem.l D2/D3,-(A7)
08000D92  2401      1639          move.l  D1,D2
08000D94  2601      1640          move.l  D1,D3
08000D96  C2C0      1641          mulu    D0,D1
08000D98  4842      1642          swap    D2
08000D9A  C4C0      1643          mulu    D0,D2
08000D9C  4840      1644          swap    D0
08000D9E  C6C0      1645          mulu    D0,D3
08000DA0  D483      1646          add.l   D3,D2
08000DA2  4842      1647          swap    D2
08000DA4  4242      1648          clr.w   D2
08000DA6  D282      1649          add.l   D2,D1
08000DA8  4CDF 000C 1650          movem.l (A7)+,D2/D3
08000DAC  4E75      1651          rts
                    1652   _gets:
08000DAE  4E56 0000 1653          link      A6,#0
08000DB2  48E7 3820 1654          movem.l   D2/D3/D4/A2,-(A7)
08000DB6  45F9 0800 1655          lea       _putch.L,A2
08000DBA  155E      
08000DBC  282E 0008 1656          move.l    8(A6),D4
08000DC0  2404      1657          move.l    D4,D2
                    1658   gets_1:
08000DC2  4EB9 0800 1659          jsr       _getch
08000DC6  158E      
08000DC8  2600      1660          move.l    D0,D3
08000DCA  0C80 0000 1661          cmp.l     #10,D0
08000DCE  000A      
08000DD0  6700 003C 1662          beq       gets_3
08000DD4  0C83 0000 1663          cmp.l     #8,D3
08000DD8  0008      
08000DDA  6712      1664          beq.s     gets_4
08000DDC  2042      1665          move.l    D2,A0
08000DDE  5282      1666          addq.l    #1,D2
08000DE0  1083      1667          move.b    D3,(A0)
08000DE2  4883      1668          ext.w     D3
08000DE4  48C3      1669          ext.l     D3
08000DE6  2F03      1670          move.l    D3,-(A7)
08000DE8  4E92      1671          jsr       (A2)
08000DEA  584F      1672          addq.w    #4,A7
08000DEC  601E      1673          bra.s     gets_6
                    1674   gets_4:
08000DEE  B484      1675          cmp.l     D4,D2
08000DF0  631A      1676          bls.s     gets_6
08000DF2  4878 0008 1677          pea       8
08000DF6  4E92      1678          jsr       (A2)
08000DF8  584F      1679          addq.w    #4,A7
08000DFA  4878 0020 1680          pea       32
08000DFE  4E92      1681          jsr       (A2)
08000E00  584F      1682          addq.w    #4,A7
08000E02  4878 0008 1683          pea       8
08000E06  4E92      1684          jsr       (A2)
08000E08  584F      1685          addq.w    #4,A7
08000E0A  5382      1686          subq.l    #1,D2
                    1687   gets_6:
08000E0C  60B4      1688          bra       gets_1
                    1689   gets_3:
08000E0E  4878 000A 1690          pea       10
08000E12  4E92      1691          jsr       (A2)
08000E14  584F      1692          addq.w    #4,A7
08000E16  2042      1693          move.l    D2,A0
08000E18  4210      1694          clr.b     (A0)
08000E1A  2004      1695          move.l    D4,D0
08000E1C  4CDF 041C 1696          movem.l   (A7)+,D2/D3/D4/A2
08000E20  4E5E      1697          unlk      A6
08000E22  4E75      1698          rts
                    1699   _tolower:
08000E24  202F 0004 1700          move.l    4(A7),D0
08000E28  0C80 0000 1701          cmp.l     #'A',D0
08000E2C  0041      
08000E2E  6D0E      1702          blt.s     tolower_1
08000E30  0C80 0000 1703          cmp.l     #'Z',D0
08000E34  005A      
08000E36  6E06      1704          bgt.s     tolower_1
08000E38  0680 0000 1705          add.l     #$20,D0
08000E3C  0020      
                    1706   tolower_1:
08000E3E  4E75      1707          rts
                    1708   _strcat:
08000E40  206F 0004 1709          move.l    (4,A7),A0
08000E44  226F 0008 1710          move.l    (8,A7),A1
08000E48  2008      1711          move.l    A0,D0
                    1712   strcat_1:
08000E4A  4A18      1713          tst.b     (A0)+
08000E4C  66FC      1714          bne.s     strcat_1
08000E4E  5388      1715          subq.l    #1,A0
                    1716   strcat_2:
08000E50  10D9      1717          move.b    (A1)+,(A0)+
08000E52  66FC      1718          bne.s     strcat_2
08000E54  4E75      1719          rts
                    1720   _toupper:
08000E56  202F 0004 1721          move.l    4(A7),D0
08000E5A  0C80 0000 1722          cmp.l     #'a',D0
08000E5E  0061      
08000E60  6D0E      1723          blt.s     toupper_1
08000E62  0C80 0000 1724          cmp.l     #'z',D0
08000E66  007A      
08000E68  6E06      1725          bgt.s     toupper_1
08000E6A  0480 0000 1726          sub.l     #$20,D0
08000E6E  0020      
                    1727   toupper_1:
08000E70  4E75      1728          rts
                    1729   _ungetch:
08000E72  4E56 0000 1730          link      A6,#0
08000E76  23EE 0008 1731          move.l    8(A6),__ungetbuf.L
08000E7A  0800 19DA 
08000E7E  202E 0008 1732          move.l    8(A6),D0
08000E82  4E5E      1733          unlk      A6
08000E84  4E75      1734          rts
                    1735   @doprint_copy:
08000E86  4E56 0000 1736          link      A6,#0
08000E8A  206E 0008 1737          move.l    8(A6),A0
08000E8E  4A90      1738          tst.l     (A0)
08000E90  6710      1739          beq.s     @doprint_copy_1
08000E92  202E 000C 1740          move.l    12(A6),D0
08000E96  206E 0008 1741          move.l    8(A6),A0
08000E9A  2250      1742          move.l    (A0),A1
08000E9C  5290      1743          addq.l    #1,(A0)
08000E9E  1280      1744          move.b    D0,(A1)
08000EA0  600C      1745          bra.s     @doprint_copy_2
                    1746   @doprint_copy_1:
08000EA2  2F2E 000C 1747          move.l    12(A6),-(A7)
08000EA6  4EB9 0800 1748          jsr       _putch
08000EAA  155E      
08000EAC  584F      1749          addq.w    #4,A7
                    1750   @doprint_copy_2:
08000EAE  4E5E      1751          unlk      A6
08000EB0  4E75      1752          rts
                    1753   @doprint_getval:
08000EB2  4E56 0000 1754          link      A6,#0
08000EB6  48E7 3000 1755          movem.l   D2/D3,-(A7)
08000EBA  262E 0008 1756          move.l    8(A6),D3
08000EBE  4282      1757          clr.l     D2
08000EC0  2043      1758          move.l    D3,A0
08000EC2  2050      1759          move.l    (A0),A0
08000EC4  1010      1760          move.b    (A0),D0
08000EC6  0C00 002A 1761          cmp.b     #42,D0
08000ECA  6612      1762          bne.s     @doprint_getval_1
08000ECC  206E 000C 1763          move.l    12(A6),A0
08000ED0  2250      1764          move.l    (A0),A1
08000ED2  5890      1765          addq.l    #4,(A0)
08000ED4  2411      1766          move.l    (A1),D2
08000ED6  2043      1767          move.l    D3,A0
08000ED8  5290      1768          addq.l    #1,(A0)
08000EDA  6000 0048 1769          bra       @doprint_getval_5
                    1770   @doprint_getval_1:
08000EDE  7001      1771          moveq     #1,D0
08000EE0  2043      1772          move.l    D3,A0
08000EE2  2050      1773          move.l    (A0),A0
08000EE4  1210      1774          move.b    (A0),D1
08000EE6  4881      1775          ext.w     D1
08000EE8  48C1      1776          ext.l     D1
08000EEA  D081      1777          add.l     D1,D0
08000EEC  41F9 0800 1778          lea       __ctype.L,A0
08000EF0  18CC      
08000EF2  1030 0800 1779          move.b    0(A0,D0.L),D0
08000EF6  C03C 0004 1780          and.b     #4,D0
08000EFA  6728      1781          beq.s     @doprint_getval_5
08000EFC  2F02      1782          move.l    D2,-(A7)
08000EFE  4878 000A 1783          pea       10
08000F02  4EB9 0800 1784          jsr       LMUL
08000F06  0D20      
08000F08  2017      1785          move.l    (A7),D0
08000F0A  504F      1786          addq.w    #8,A7
08000F0C  2043      1787          move.l    D3,A0
08000F0E  2250      1788          move.l    (A0),A1
08000F10  5290      1789          addq.l    #1,(A0)
08000F12  1211      1790          move.b    (A1),D1
08000F14  4881      1791          ext.w     D1
08000F16  48C1      1792          ext.l     D1
08000F18  D081      1793          add.l     D1,D0
08000F1A  0480 0000 1794          sub.l     #48,D0
08000F1E  0030      
08000F20  2400      1795          move.l    D0,D2
08000F22  60BA      1796          bra       @doprint_getval_1
                    1797   @doprint_getval_5:
08000F24  2002      1798          move.l    D2,D0
08000F26  4CDF 000C 1799          movem.l   (A7)+,D2/D3
08000F2A  4E5E      1800          unlk      A6
08000F2C  4E75      1801          rts
                    1802   _doprint:
08000F2E  4E56 FFCC 1803          link      A6,#-52
08000F32  48E7 3F3C 1804          movem.l   D2/D3/D4/D5/D6/D7/A2/A3/A4/A5,-(A7)
08000F36  45EE 0008 1805          lea       8(A6),A2
08000F3A  47F9 0800 1806          lea       @doprint_copy.L,A3
08000F3E  0E86      
08000F40  49F9 0800 1807          lea       _ultoa.L,A4
08000F44  16D2      
08000F46  4286      1808          clr.l     D6
                    1809   doprint_1:
08000F48  206E 000C 1810          move.l    12(A6),A0
08000F4C  4A10      1811          tst.b     (A0)
08000F4E  6700 05F0 1812          beq       doprint_3
08000F52  206E 000C 1813          move.l    12(A6),A0
08000F56  1010      1814          move.b    (A0),D0
08000F58  0C00 0025 1815          cmp.b     #37,D0
08000F5C  671C      1816          beq.s     doprint_4
08000F5E  206E 000C 1817          move.l    12(A6),A0
08000F62  52AE 000C 1818          addq.l    #1,12(A6)
08000F66  1210      1819          move.b    (A0),D1
08000F68  4881      1820          ext.w     D1
08000F6A  48C1      1821          ext.l     D1
08000F6C  2F01      1822          move.l    D1,-(A7)
08000F6E  2F0A      1823          move.l    A2,-(A7)
08000F70  4E93      1824          jsr       (A3)
08000F72  504F      1825          addq.w    #8,A7
08000F74  5286      1826          addq.l    #1,D6
08000F76  6000 05C4 1827          bra       doprint_2
                    1828   doprint_4:
08000F7A  52AE 000C 1829          addq.l    #1,12(A6)
08000F7E  422E FFD3 1830          clr.b     -45(A6)
08000F82  422E FFD2 1831          clr.b     -46(A6)
08000F86  422E FFD0 1832          clr.b     -48(A6)
08000F8A  422E FFCF 1833          clr.b     -49(A6)
08000F8E  422E FFCE 1834          clr.b     -50(A6)
08000F92  422E FFCD 1835          clr.b     -51(A6)
08000F96  42AE FFFC 1836          clr.l     -4(A6)
08000F9A  7AFF      1837          moveq     #-1,D5
08000F9C  41EE FFDC 1838          lea       -36(A6),A0
08000FA0  2608      1839          move.l    A0,D3
08000FA2  2408      1840          move.l    A0,D2
                    1841   doprint_6:
08000FA4  206E 000C 1842          move.l    12(A6),A0
08000FA8  1010      1843          move.b    (A0),D0
08000FAA  4880      1844          ext.w     D0
08000FAC  48C0      1845          ext.l     D0
08000FAE  0C80 0000 1846          cmp.l     #43,D0
08000FB2  002B      
08000FB4  6730      1847          beq.s     doprint_12
08000FB6  6E18      1848          bgt.s     doprint_15
08000FB8  0C80 0000 1849          cmp.l     #35,D0
08000FBC  0023      
08000FBE  6700 003E 1850          beq       doprint_14
08000FC2  6E00 0046 1851          bgt       doprint_9
08000FC6  0C80 0000 1852          cmp.l     #32,D0
08000FCA  0020      
08000FCC  6724      1853          beq.s     doprint_13
08000FCE  603A      1854          bra.s     doprint_9
                    1855   doprint_15:
08000FD0  0C80 0000 1856          cmp.l     #45,D0
08000FD4  002D      
08000FD6  6702      1857          beq.s     doprint_11
08000FD8  6030      1858          bra.s     doprint_9
                    1859   doprint_11:
08000FDA  1D7C 0001 1860          move.b    #1,-51(A6)
08000FDE  FFCD      
08000FE0  52AE 000C 1861          addq.l    #1,12(A6)
08000FE4  6026      1862          bra.s     doprint_7
                    1863   doprint_12:
08000FE6  1D7C 0001 1864          move.b    #1,-50(A6)
08000FEA  FFCE      
08000FEC  52AE 000C 1865          addq.l    #1,12(A6)
08000FF0  601A      1866          bra.s     doprint_7
                    1867   doprint_13:
08000FF2  1D7C 0001 1868          move.b    #1,-49(A6)
08000FF6  FFCF      
08000FF8  52AE 000C 1869          addq.l    #1,12(A6)
08000FFC  600E      1870          bra.s     doprint_7
                    1871   doprint_14:
08000FFE  1D7C 0001 1872          move.b    #1,-48(A6)
08001002  FFD0      
08001004  52AE 000C 1873          addq.l    #1,12(A6)
08001008  6002      1874          bra.s     doprint_7
                    1875   doprint_9:
0800100A  6002      1876          bra.s     doprint_8
                    1877   doprint_7:
0800100C  6096      1878          bra       doprint_6
                    1879   doprint_8:
0800100E  206E 000C 1880          move.l    12(A6),A0
08001012  1010      1881          move.b    (A0),D0
08001014  0C00 0030 1882          cmp.b     #48,D0
08001018  660A      1883          bne.s     doprint_16
0800101A  52AE 000C 1884          addq.l    #1,12(A6)
0800101E  1D7C 0001 1885          move.b    #1,-46(A6)
08001022  FFD2      
                    1886   doprint_16:
08001024  486E 0010 1887          pea       16(A6)
08001028  486E 000C 1888          pea       12(A6)
0800102C  4EB9 0800 1889          jsr       @doprint_getval
08001030  0EB2      
08001032  504F      1890          addq.w    #8,A7
08001034  2A40      1891          move.l    D0,A5
08001036  206E 000C 1892          move.l    12(A6),A0
0800103A  1010      1893          move.b    (A0),D0
0800103C  0C00 002E 1894          cmp.b     #46,D0
08001040  6616      1895          bne.s     doprint_18
08001042  52AE 000C 1896          addq.l    #1,12(A6)
08001046  486E 0010 1897          pea       16(A6)
0800104A  486E 000C 1898          pea       12(A6)
0800104E  4EB9 0800 1899          jsr       @doprint_getval
08001052  0EB2      
08001054  504F      1900          addq.w    #8,A7
08001056  2A00      1901          move.l    D0,D5
                    1902   doprint_18:
08001058  206E 000C 1903          move.l    12(A6),A0
0800105C  1010      1904          move.b    (A0),D0
0800105E  0C00 006C 1905          cmp.b     #108,D0
08001062  660A      1906          bne.s     doprint_20
08001064  52AE 000C 1907          addq.l    #1,12(A6)
08001068  1D7C 0001 1908          move.b    #1,-45(A6)
0800106C  FFD3      
                    1909   doprint_20:
0800106E  206E 000C 1910          move.l    12(A6),A0
08001072  1010      1911          move.b    (A0),D0
08001074  4880      1912          ext.w     D0
08001076  48C0      1913          ext.l     D0
08001078  0C80 0000 1914          cmp.l     #111,D0
0800107C  006F      
0800107E  6700 00D8 1915          beq       doprint_27
08001082  6E34      1916          bgt.s     doprint_33
08001084  0C80 0000 1917          cmp.l     #100,D0
08001088  0064      
0800108A  6700 0054 1918          beq       doprint_24
0800108E  6E1C      1919          bgt.s     doprint_34
08001090  0C80 0000 1920          cmp.l     #99,D0
08001094  0063      
08001096  6700 0130 1921          beq       doprint_30
0800109A  6E00 0174 1922          bgt       doprint_22
0800109E  0C80 0000 1923          cmp.l     #88,D0
080010A2  0058      
080010A4  6700 00EA 1924          beq       doprint_28
080010A8  6000 0166 1925          bra       doprint_22
                    1926   doprint_34:
080010AC  0C80 0000 1927          cmp.l     #105,D0
080010B0  0069      
080010B2  672C      1928          beq.s     doprint_24
080010B4  6000 015A 1929          bra       doprint_22
                    1930   doprint_33:
080010B8  0C80 0000 1931          cmp.l     #117,D0
080010BC  0075      
080010BE  6700 0060 1932          beq       doprint_26
080010C2  6E0E      1933          bgt.s     doprint_35
080010C4  0C80 0000 1934          cmp.l     #115,D0
080010C8  0073      
080010CA  6700 0124 1935          beq       doprint_31
080010CE  6000 0140 1936          bra       doprint_22
                    1937   doprint_35:
080010D2  0C80 0000 1938          cmp.l     #120,D0
080010D6  0078      
080010D8  6700 00B6 1939          beq       doprint_28
080010DC  6000 0132 1940          bra       doprint_22
                    1941   doprint_24:
080010E0  4A2E FFD3 1942          tst.b     -45(A6)
080010E4  671C      1943          beq.s     doprint_36
080010E6  4878 000A 1944          pea       10
080010EA  2F03      1945          move.l    D3,-(A7)
080010EC  206E 0010 1946          move.l    16(A6),A0
080010F0  58AE 0010 1947          addq.l    #4,16(A6)
080010F4  2F10      1948          move.l    (A0),-(A7)
080010F6  4EB9 0800 1949          jsr       _ltoa
080010FA  164A      
080010FC  DEFC 000C 1950          add.w     #12,A7
08001100  601A      1951          bra.s     doprint_37
                    1952   doprint_36:
08001102  4878 000A 1953          pea       10
08001106  2F03      1954          move.l    D3,-(A7)
08001108  206E 0010 1955          move.l    16(A6),A0
0800110C  58AE 0010 1956          addq.l    #4,16(A6)
08001110  2F10      1957          move.l    (A0),-(A7)
08001112  4EB9 0800 1958          jsr       _ltoa
08001116  164A      
08001118  DEFC 000C 1959          add.w     #12,A7
                    1960   doprint_37:
0800111C  6000 0100 1961          bra       doprint_23
                    1962   doprint_26:
08001120  4A2E FFD3 1963          tst.b     -45(A6)
08001124  6718      1964          beq.s     doprint_38
08001126  4878 000A 1965          pea       10
0800112A  2F03      1966          move.l    D3,-(A7)
0800112C  206E 0010 1967          move.l    16(A6),A0
08001130  58AE 0010 1968          addq.l    #4,16(A6)
08001134  2F10      1969          move.l    (A0),-(A7)
08001136  4E94      1970          jsr       (A4)
08001138  DEFC 000C 1971          add.w     #12,A7
0800113C  6016      1972          bra.s     doprint_39
                    1973   doprint_38:
0800113E  4878 000A 1974          pea       10
08001142  2F03      1975          move.l    D3,-(A7)
08001144  206E 0010 1976          move.l    16(A6),A0
08001148  58AE 0010 1977          addq.l    #4,16(A6)
0800114C  2F10      1978          move.l    (A0),-(A7)
0800114E  4E94      1979          jsr       (A4)
08001150  DEFC 000C 1980          add.w     #12,A7
                    1981   doprint_39:
08001154  6000 00C8 1982          bra       doprint_23
                    1983   doprint_27:
08001158  4A2E FFD3 1984          tst.b     -45(A6)
0800115C  6718      1985          beq.s     doprint_40
0800115E  4878 0008 1986          pea       8
08001162  2F03      1987          move.l    D3,-(A7)
08001164  206E 0010 1988          move.l    16(A6),A0
08001168  58AE 0010 1989          addq.l    #4,16(A6)
0800116C  2F10      1990          move.l    (A0),-(A7)
0800116E  4E94      1991          jsr       (A4)
08001170  DEFC 000C 1992          add.w     #12,A7
08001174  6016      1993          bra.s     doprint_41
                    1994   doprint_40:
08001176  4878 0008 1995          pea       8
0800117A  2F03      1996          move.l    D3,-(A7)
0800117C  206E 0010 1997          move.l    16(A6),A0
08001180  58AE 0010 1998          addq.l    #4,16(A6)
08001184  2F10      1999          move.l    (A0),-(A7)
08001186  4E94      2000          jsr       (A4)
08001188  DEFC 000C 2001          add.w     #12,A7
                    2002   doprint_41:
0800118C  6000 0090 2003          bra       doprint_23
                    2004   doprint_28:
08001190  4A2E FFD3 2005          tst.b     -45(A6)
08001194  6718      2006          beq.s     doprint_42
08001196  4878 0010 2007          pea       16
0800119A  2F03      2008          move.l    D3,-(A7)
0800119C  206E 0010 2009          move.l    16(A6),A0
080011A0  58AE 0010 2010          addq.l    #4,16(A6)
080011A4  2F10      2011          move.l    (A0),-(A7)
080011A6  4E94      2012          jsr       (A4)
080011A8  DEFC 000C 2013          add.w     #12,A7
080011AC  6016      2014          bra.s     doprint_43
                    2015   doprint_42:
080011AE  4878 0010 2016          pea       16
080011B2  2F03      2017          move.l    D3,-(A7)
080011B4  206E 0010 2018          move.l    16(A6),A0
080011B8  58AE 0010 2019          addq.l    #4,16(A6)
080011BC  2F10      2020          move.l    (A0),-(A7)
080011BE  4E94      2021          jsr       (A4)
080011C0  DEFC 000C 2022          add.w     #12,A7
                    2023   doprint_43:
080011C4  6000 0058 2024          bra       doprint_23
                    2025   doprint_30:
080011C8  206E 0010 2026          move.l    16(A6),A0
080011CC  58AE 0010 2027          addq.l    #4,16(A6)
080011D0  2010      2028          move.l    (A0),D0
080011D2  2042      2029          move.l    D2,A0
080011D4  5282      2030          addq.l    #1,D2
080011D6  1080      2031          move.b    D0,(A0)
080011D8  2042      2032          move.l    D2,A0
080011DA  4210      2033          clr.b     (A0)
080011DC  200D      2034          move.l    A5,D0
080011DE  6704      2035          beq.s     doprint_44
080011E0  200D      2036          move.l    A5,D0
080011E2  6006      2037          bra.s     doprint_45
                    2038   doprint_44:
080011E4  7001      2039          moveq     #1,D0
080011E6  4880      2040          ext.w     D0
080011E8  48C0      2041          ext.l     D0
                    2042   doprint_45:
080011EA  2A00      2043          move.l    D0,D5
080011EC  6000 0030 2044          bra       doprint_23
                    2045   doprint_31:
080011F0  206E 0010 2046          move.l    16(A6),A0
080011F4  58AE 0010 2047          addq.l    #4,16(A6)
080011F8  2610      2048          move.l    (A0),D3
080011FA  0C85 FFFF 2049          cmp.l     #-1,D5
080011FE  FFFF      
08001200  660C      2050          bne.s     doprint_46
08001202  2F03      2051          move.l    D3,-(A7)
08001204  4EB9 0800 2052          jsr       _strlen
08001208  1738      
0800120A  584F      2053          addq.w    #4,A7
0800120C  2A00      2054          move.l    D0,D5
                    2055   doprint_46:
0800120E  600E      2056          bra.s     doprint_23
                    2057   doprint_22:
08001210  206E 000C 2058          move.l    12(A6),A0
08001214  2242      2059          move.l    D2,A1
08001216  5282      2060          addq.l    #1,D2
08001218  1290      2061          move.b    (A0),(A1)
0800121A  2042      2062          move.l    D2,A0
0800121C  4210      2063          clr.b     (A0)
                    2064   doprint_23:
0800121E  2F03      2065          move.l    D3,-(A7)
08001220  4EB9 0800 2066          jsr       _strlen
08001224  1738      
08001226  584F      2067          addq.w    #4,A7
08001228  1800      2068          move.b    D0,D4
0800122A  206E 000C 2069          move.l    12(A6),A0
0800122E  1010      2070          move.b    (A0),D0
08001230  0C00 0073 2071          cmp.b     #115,D0
08001234  661C      2072          bne.s     doprint_48
08001236  0C85 0000 2073          cmp.l     #0,D5
0800123A  0000      
0800123C  6D14      2074          blt.s     doprint_48
0800123E  4884      2075          ext.w     D4
08001240  48C4      2076          ext.l     D4
08001242  B885      2077          cmp.l     D5,D4
08001244  6F04      2078          ble.s     doprint_50
08001246  2005      2079          move.l    D5,D0
08001248  6006      2080          bra.s     doprint_51
                    2081   doprint_50:
0800124A  1004      2082          move.b    D4,D0
0800124C  4880      2083          ext.w     D0
0800124E  48C0      2084          ext.l     D0
                    2085   doprint_51:
08001250  1800      2086          move.b    D0,D4
                    2087   doprint_48:
08001252  206E 000C 2088          move.l    12(A6),A0
08001256  1010      2089          move.b    (A0),D0
08001258  0C00 0058 2090          cmp.b     #88,D0
0800125C  6600 0028 2091          bne       doprint_56
08001260  41EE FFDC 2092          lea       -36(A6),A0
08001264  2408      2093          move.l    A0,D2
                    2094   doprint_54:
08001266  2042      2095          move.l    D2,A0
08001268  4A10      2096          tst.b     (A0)
0800126A  671A      2097          beq.s     doprint_56
0800126C  2042      2098          move.l    D2,A0
0800126E  1210      2099          move.b    (A0),D1
08001270  4881      2100          ext.w     D1
08001272  48C1      2101          ext.l     D1
08001274  2F01      2102          move.l    D1,-(A7)
08001276  4EB9 0800 2103          jsr       _toupper
0800127A  0E56      
0800127C  584F      2104          addq.w    #4,A7
0800127E  2042      2105          move.l    D2,A0
08001280  1080      2106          move.b    D0,(A0)
08001282  5282      2107          addq.l    #1,D2
08001284  60E0      2108          bra       doprint_54
                    2109   doprint_56:
08001286  7E00      2110          moveq     #0,D7
08001288  41EE FFD4 2111          lea       -44(A6),A0
0800128C  2408      2112          move.l    A0,D2
0800128E  206E 000C 2113          move.l    12(A6),A0
08001292  1010      2114          move.b    (A0),D0
08001294  0C00 0064 2115          cmp.b     #100,D0
08001298  670E      2116          beq.s     doprint_59
0800129A  206E 000C 2117          move.l    12(A6),A0
0800129E  1010      2118          move.b    (A0),D0
080012A0  0C00 0069 2119          cmp.b     #105,D0
080012A4  6600 0068 2120          bne       doprint_65
                    2121   doprint_59:
080012A8  102E FFCE 2122          move.b    -50(A6),D0
080012AC  4880      2123          ext.w     D0
080012AE  48C0      2124          ext.l     D0
080012B0  4A80      2125          tst.l     D0
080012B2  660C      2126          bne.s     doprint_62
080012B4  2043      2127          move.l    D3,A0
080012B6  1010      2128          move.b    (A0),D0
080012B8  0C00 002D 2129          cmp.b     #45,D0
080012BC  6600 0028 2130          bne       doprint_60
                    2131   doprint_62:
080012C0  2043      2132          move.l    D3,A0
080012C2  1010      2133          move.b    (A0),D0
080012C4  0C00 002D 2134          cmp.b     #45,D0
080012C8  660E      2135          bne.s     doprint_63
080012CA  2043      2136          move.l    D3,A0
080012CC  5283      2137          addq.l    #1,D3
080012CE  2242      2138          move.l    D2,A1
080012D0  5282      2139          addq.l    #1,D2
080012D2  1290      2140          move.b    (A0),(A1)
080012D4  5304      2141          subq.b    #1,D4
080012D6  6008      2142          bra.s     doprint_64
                    2143   doprint_63:
080012D8  2042      2144          move.l    D2,A0
080012DA  5282      2145          addq.l    #1,D2
080012DC  10BC 002B 2146          move.b    #43,(A0)
                    2147   doprint_64:
080012E0  5287      2148          addq.l    #1,D7
080012E2  6000 002A 2149          bra       doprint_65
                    2150   doprint_60:
080012E6  4A2E FFCF 2151          tst.b     -49(A6)
080012EA  6722      2152          beq.s     doprint_65
080012EC  2043      2153          move.l    D3,A0
080012EE  1010      2154          move.b    (A0),D0
080012F0  0C00 002D 2155          cmp.b     #45,D0
080012F4  660E      2156          bne.s     doprint_67
080012F6  2043      2157          move.l    D3,A0
080012F8  5283      2158          addq.l    #1,D3
080012FA  2242      2159          move.l    D2,A1
080012FC  5282      2160          addq.l    #1,D2
080012FE  1290      2161          move.b    (A0),(A1)
08001300  5304      2162          subq.b    #1,D4
08001302  6008      2163          bra.s     doprint_68
                    2164   doprint_67:
08001304  2042      2165          move.l    D2,A0
08001306  5282      2166          addq.l    #1,D2
08001308  10BC 0020 2167          move.b    #32,(A0)
                    2168   doprint_68:
0800130C  5287      2169          addq.l    #1,D7
                    2170   doprint_65:
0800130E  4A2E FFD0 2171          tst.b     -48(A6)
08001312  6700 005A 2172          beq       doprint_77
08001316  206E 000C 2173          move.l    12(A6),A0
0800131A  1010      2174          move.b    (A0),D0
0800131C  4880      2175          ext.w     D0
0800131E  48C0      2176          ext.l     D0
08001320  0C80 0000 2177          cmp.l     #111,D0
08001324  006F      
08001326  671A      2178          beq.s     doprint_73
08001328  6E0C      2179          bgt.s     doprint_76
0800132A  0C80 0000 2180          cmp.l     #88,D0
0800132E  0058      
08001330  6710      2181          beq.s     doprint_73
08001332  6000 003A 2182          bra       doprint_77
                    2183   doprint_76:
08001336  0C80 0000 2184          cmp.l     #120,D0
0800133A  0078      
0800133C  6704      2185          beq.s     doprint_73
0800133E  6000 002E 2186          bra       doprint_77
                    2187   doprint_73:
08001342  2042      2188          move.l    D2,A0
08001344  5282      2189          addq.l    #1,D2
08001346  10BC 0030 2190          move.b    #48,(A0)
0800134A  5287      2191          addq.l    #1,D7
0800134C  206E 000C 2192          move.l    12(A6),A0
08001350  1010      2193          move.b    (A0),D0
08001352  0C00 0078 2194          cmp.b     #120,D0
08001356  670C      2195          beq.s     doprint_79
08001358  206E 000C 2196          move.l    12(A6),A0
0800135C  1010      2197          move.b    (A0),D0
0800135E  0C00 0058 2198          cmp.b     #88,D0
08001362  660A      2199          bne.s     doprint_77
                    2200   doprint_79:
08001364  2042      2201          move.l    D2,A0
08001366  5282      2202          addq.l    #1,D2
08001368  10BC 0078 2203          move.b    #120,(A0)
0800136C  5287      2204          addq.l    #1,D7
                    2205   doprint_77:
0800136E  2042      2206          move.l    D2,A0
08001370  4210      2207          clr.b     (A0)
08001372  206E 000C 2208          move.l    12(A6),A0
08001376  1010      2209          move.b    (A0),D0
08001378  4880      2210          ext.w     D0
0800137A  48C0      2211          ext.l     D0
0800137C  0C80 0000 2212          cmp.l     #105,D0
08001380  0069      
08001382  6700 0076 2213          beq       doprint_82
08001386  6E42      2214          bgt.s     doprint_93
08001388  0C80 0000 2215          cmp.l     #99,D0
0800138C  0063      
0800138E  6700 0084 2216          beq       doprint_96
08001392  6E1C      2217          bgt.s     doprint_94
08001394  0C80 0000 2218          cmp.l     #88,D0
08001398  0058      
0800139A  6700 005E 2219          beq       doprint_82
0800139E  6E00 0184 2220          bgt       doprint_80
080013A2  0C80 0000 2221          cmp.l     #69,D0
080013A6  0045      
080013A8  6700 0050 2222          beq       doprint_82
080013AC  6000 0176 2223          bra       doprint_80
                    2224   doprint_94:
080013B0  0C80 0000 2225          cmp.l     #101,D0
080013B4  0065      
080013B6  6700 0042 2226          beq       doprint_82
080013BA  6E00 0168 2227          bgt       doprint_80
080013BE  0C80 0000 2228          cmp.l     #100,D0
080013C2  0064      
080013C4  6734      2229          beq.s     doprint_82
080013C6  6000 015C 2230          bra       doprint_80
                    2231   doprint_93:
080013CA  0C80 0000 2232          cmp.l     #117,D0
080013CE  0075      
080013D0  6728      2233          beq.s     doprint_82
080013D2  6E1A      2234          bgt.s     doprint_95
080013D4  0C80 0000 2235          cmp.l     #115,D0
080013D8  0073      
080013DA  6700 0038 2236          beq       doprint_96
080013DE  6E00 0144 2237          bgt       doprint_80
080013E2  0C80 0000 2238          cmp.l     #111,D0
080013E6  006F      
080013E8  6710      2239          beq.s     doprint_82
080013EA  6000 0138 2240          bra       doprint_80
                    2241   doprint_95:
080013EE  0C80 0000 2242          cmp.l     #120,D0
080013F2  0078      
080013F4  6704      2243          beq.s     doprint_82
080013F6  6000 012C 2244          bra       doprint_80
                    2245   doprint_82:
080013FA  4A2E FFD2 2246          tst.b     -46(A6)
080013FE  6714      2247          beq.s     doprint_96
08001400  4A2E FFCD 2248          tst.b     -51(A6)
08001404  660E      2249          bne.s     doprint_96
08001406  200D      2250          move.l    A5,D0
08001408  9087      2251          sub.l     D7,D0
0800140A  4884      2252          ext.w     D4
0800140C  48C4      2253          ext.l     D4
0800140E  9084      2254          sub.l     D4,D0
08001410  2D40 FFFC 2255          move.l    D0,-4(A6)
                    2256   doprint_96:
08001414  202E FFFC 2257          move.l    -4(A6),D0
08001418  0C80 0000 2258          cmp.l     #0,D0
0800141C  0000      
0800141E  6C04      2259          bge.s     doprint_98
08001420  42AE FFFC 2260          clr.l     -4(A6)
                    2261   doprint_98:
08001424  4A2E FFCD 2262          tst.b     -51(A6)
08001428  6600 0030 2263          bne       doprint_104
0800142C  1004      2264          move.b    D4,D0
0800142E  4880      2265          ext.w     D0
08001430  48C0      2266          ext.l     D0
08001432  D0AE FFFC 2267          add.l     -4(A6),D0
08001436  D087      2268          add.l     D7,D0
08001438  1D40 FFD1 2269          move.b    D0,-47(A6)
                    2270   doprint_102:
0800143C  102E FFD1 2271          move.b    -47(A6),D0
08001440  4880      2272          ext.w     D0
08001442  48C0      2273          ext.l     D0
08001444  220D      2274          move.l    A5,D1
08001446  534D      2275          subq.w    #1,A5
08001448  B081      2276          cmp.l     D1,D0
0800144A  6C0E      2277          bge.s     doprint_104
0800144C  4878 0020 2278          pea       32
08001450  2F0A      2279          move.l    A2,-(A7)
08001452  4E93      2280          jsr       (A3)
08001454  504F      2281          addq.w    #8,A7
08001456  5286      2282          addq.l    #1,D6
08001458  60E2      2283          bra       doprint_102
                    2284   doprint_104:
0800145A  41EE FFD4 2285          lea       -44(A6),A0
0800145E  2408      2286          move.l    A0,D2
                    2287   doprint_105:
08001460  2042      2288          move.l    D2,A0
08001462  4A10      2289          tst.b     (A0)
08001464  6716      2290          beq.s     doprint_107
08001466  2042      2291          move.l    D2,A0
08001468  5282      2292          addq.l    #1,D2
0800146A  1210      2293          move.b    (A0),D1
0800146C  4881      2294          ext.w     D1
0800146E  48C1      2295          ext.l     D1
08001470  2F01      2296          move.l    D1,-(A7)
08001472  2F0A      2297          move.l    A2,-(A7)
08001474  4E93      2298          jsr       (A3)
08001476  504F      2299          addq.w    #8,A7
08001478  5286      2300          addq.l    #1,D6
0800147A  60E4      2301          bra       doprint_105
                    2302   doprint_107:
0800147C  202E FFFC 2303          move.l    -4(A6),D0
08001480  1D40 FFD1 2304          move.b    D0,-47(A6)
                    2305   doprint_108:
08001484  102E FFD1 2306          move.b    -47(A6),D0
08001488  532E FFD1 2307          subq.b    #1,-47(A6)
0800148C  4A00      2308          tst.b     D0
0800148E  670E      2309          beq.s     doprint_110
08001490  4878 0030 2310          pea       48
08001494  2F0A      2311          move.l    A2,-(A7)
08001496  4E93      2312          jsr       (A3)
08001498  504F      2313          addq.w    #8,A7
0800149A  5286      2314          addq.l    #1,D6
0800149C  60E6      2315          bra       doprint_108
                    2316   doprint_110:
0800149E  2043      2317          move.l    D3,A0
080014A0  4A10      2318          tst.b     (A0)
080014A2  6700 0048 2319          beq       doprint_113
080014A6  206E 000C 2320          move.l    12(A6),A0
080014AA  1010      2321          move.b    (A0),D0
080014AC  4880      2322          ext.w     D0
080014AE  48C0      2323          ext.l     D0
080014B0  0C80 0000 2324          cmp.l     #115,D0
080014B4  0073      
080014B6  670C      2325          beq.s     doprint_116
080014B8  6E18      2326          bgt.s     doprint_119
080014BA  0C80 0000 2327          cmp.l     #99,D0
080014BE  0063      
080014C0  6702      2328          beq.s     doprint_116
080014C2  600E      2329          bra.s     doprint_119
                    2330   doprint_116:
080014C4  2005      2331          move.l    D5,D0
080014C6  5385      2332          subq.l    #1,D5
080014C8  0C80 0000 2333          cmp.l     #0,D0
080014CC  0000      
080014CE  6E02      2334          bgt.s     doprint_119
080014D0  6016      2335          bra.s     doprint_115
                    2336   doprint_119:
080014D2  2043      2337          move.l    D3,A0
080014D4  5283      2338          addq.l    #1,D3
080014D6  1210      2339          move.b    (A0),D1
080014D8  4881      2340          ext.w     D1
080014DA  48C1      2341          ext.l     D1
080014DC  2F01      2342          move.l    D1,-(A7)
080014DE  2F0A      2343          move.l    A2,-(A7)
080014E0  4E93      2344          jsr       (A3)
080014E2  504F      2345          addq.w    #8,A7
080014E4  5286      2346          addq.l    #1,D6
080014E6  6002      2347          bra.s     doprint_112
                    2348   doprint_115:
080014E8  6002      2349          bra.s     doprint_113
                    2350   doprint_112:
080014EA  60B2      2351          bra       doprint_110
                    2352   doprint_113:
080014EC  4A2E FFCD 2353          tst.b     -51(A6)
080014F0  6700 0030 2354          beq       doprint_125
080014F4  1004      2355          move.b    D4,D0
080014F6  4880      2356          ext.w     D0
080014F8  48C0      2357          ext.l     D0
080014FA  D0AE FFFC 2358          add.l     -4(A6),D0
080014FE  D087      2359          add.l     D7,D0
08001500  1D40 FFD1 2360          move.b    D0,-47(A6)
                    2361   doprint_123:
08001504  102E FFD1 2362          move.b    -47(A6),D0
08001508  4880      2363          ext.w     D0
0800150A  48C0      2364          ext.l     D0
0800150C  220D      2365          move.l    A5,D1
0800150E  534D      2366          subq.w    #1,A5
08001510  B081      2367          cmp.l     D1,D0
08001512  6C0E      2368          bge.s     doprint_125
08001514  4878 0020 2369          pea       32
08001518  2F0A      2370          move.l    A2,-(A7)
0800151A  4E93      2371          jsr       (A3)
0800151C  504F      2372          addq.w    #8,A7
0800151E  5386      2373          subq.l    #1,D6
08001520  60E2      2374          bra       doprint_123
                    2375   doprint_125:
08001522  6014      2376          bra.s     doprint_81
                    2377   doprint_80:
08001524  206E 000C 2378          move.l    12(A6),A0
08001528  1210      2379          move.b    (A0),D1
0800152A  4881      2380          ext.w     D1
0800152C  48C1      2381          ext.l     D1
0800152E  2F01      2382          move.l    D1,-(A7)
08001530  2F0A      2383          move.l    A2,-(A7)
08001532  4E93      2384          jsr       (A3)
08001534  504F      2385          addq.w    #8,A7
08001536  5286      2386          addq.l    #1,D6
                    2387   doprint_81:
08001538  52AE 000C 2388          addq.l    #1,12(A6)
                    2389   doprint_2:
0800153C  6000 FA0A 2390          bra       doprint_1
                    2391   doprint_3:
08001540  4A92      2392          tst.l     (A2)
08001542  6710      2393          beq.s     doprint_126
08001544  4201      2394          clr.b     D1
08001546  C2BC 0000 2395          and.l     #255,D1
0800154A  00FF      
0800154C  2F01      2396          move.l    D1,-(A7)
0800154E  2F0A      2397          move.l    A2,-(A7)
08001550  4E93      2398          jsr       (A3)
08001552  504F      2399          addq.w    #8,A7
                    2400   doprint_126:
08001554  2006      2401          move.l    D6,D0
08001556  4CDF 3CFC 2402          movem.l   (A7)+,D2/D3/D4/D5/D6/D7/A2/A3/A4/A5
0800155A  4E5E      2403          unlk      A6
0800155C  4E75      2404          rts
                    2405   _putch:
0800155E  4E56 0000 2406          link      A6,#0
08001562  2F02      2407          move.l    D2,-(A7)
08001564  242E 0008 2408          move.l    8(A6),D2
08001568  0C82 0000 2409          cmp.l     #10,D2
0800156C  000A      
0800156E  660C      2410          bne.s     putch_1
08001570  4878 000D 2411          pea       13
08001574  4EB9 0800 2412          jsr       __putch
08001578  00F6      
0800157A  584F      2413          addq.w    #4,A7
                    2414   putch_1:
0800157C  2F02      2415          move.l    D2,-(A7)
0800157E  4EB9 0800 2416          jsr       __putch
08001582  00F6      
08001584  584F      2417          addq.w    #4,A7
08001586  2002      2418          move.l    D2,D0
08001588  241F      2419          move.l    (A7)+,D2
0800158A  4E5E      2420          unlk      A6
0800158C  4E75      2421          rts
                    2422   _getch:
0800158E  2F02      2423          move.l    D2,-(A7)
08001590  2439 0800 2424          move.l    __ungetbuf.L,D2
08001594  19DA      
08001596  2039 0800 2425          move.l    __ungetbuf.L,D0
0800159A  19DA      
0800159C  0C80 FFFF 2426          cmp.l     #-1,D0
080015A0  FFFF      
080015A2  670C      2427          beq.s     getch_1
080015A4  23FC FFFF 2428          move.l    #-1,__ungetbuf.L
080015A8  FFFF 0800 
080015AC  19DA      
080015AE  6012      2429          bra.s     getch_3
                    2430   getch_1:
080015B0  4EB9 0800 2431          jsr       __getch
080015B4  0124      
080015B6  2400      2432          move.l    D0,D2
080015B8  0C80 0000 2433          cmp.l     #13,D0
080015BC  000D      
080015BE  6602      2434          bne.s     getch_3
080015C0  740A      2435          moveq     #10,D2
                    2436   getch_3:
080015C2  2002      2437          move.l    D2,D0
080015C4  241F      2438          move.l    (A7)+,D2
080015C6  4E75      2439          rts
                    2440   @itoa_convert:
080015C8  4E56 0000 2441          link      A6,#0
080015CC  48E7 3C00 2442          movem.l   D2/D3/D4/D5,-(A7)
080015D0  242E 0008 2443          move.l    8(A6),D2
080015D4  262E 0010 2444          move.l    16(A6),D3
080015D8  2A2E 000C 2445          move.l    12(A6),D5
080015DC  2F05      2446          move.l    D5,-(A7)
080015DE  2F03      2447          move.l    D3,-(A7)
080015E0  4EB9 0800 2448          jsr       ULDIV
080015E4  175A      
080015E6  202F 0004 2449          move.l    4(A7),D0
080015EA  504F      2450          addq.w    #8,A7
080015EC  2800      2451          move.l    D0,D4
080015EE  BA83      2452          cmp.l     D3,D5
080015F0  6520      2453          blo.s     @itoa_convert_1
080015F2  2F03      2454          move.l    D3,-(A7)
080015F4  2F05      2455          move.l    D5,-(A7)
080015F6  2F03      2456          move.l    D3,-(A7)
080015F8  4EB9 0800 2457          jsr       ULDIV
080015FC  175A      
080015FE  2217      2458          move.l    (A7),D1
08001600  504F      2459          addq.w    #8,A7
08001602  2F01      2460          move.l    D1,-(A7)
08001604  2F02      2461          move.l    D2,-(A7)
08001606  4EB9 0800 2462          jsr       @itoa_convert
0800160A  15C8      
0800160C  DEFC 000C 2463          add.w     #12,A7
08001610  2400      2464          move.l    D0,D2
                    2465   @itoa_convert_1:
08001612  0C84 0000 2466          cmp.l     #9,D4
08001616  0009      
08001618  6E0E      2467          bgt.s     @itoa_convert_3
0800161A  2004      2468          move.l    D4,D0
0800161C  7230      2469          moveq     #48,D1
0800161E  C2BC 0000 2470          and.l     #255,D1
08001622  00FF      
08001624  D081      2471          add.l     D1,D0
08001626  6012      2472          bra.s     @itoa_convert_4
                    2473   @itoa_convert_3:
08001628  2004      2474          move.l    D4,D0
0800162A  7261      2475          moveq     #97,D1
0800162C  C2BC 0000 2476          and.l     #255,D1
08001630  00FF      
08001632  D081      2477          add.l     D1,D0
08001634  0480 0000 2478          sub.l     #10,D0
08001638  000A      
                    2479   @itoa_convert_4:
0800163A  2042      2480          move.l    D2,A0
0800163C  1080      2481          move.b    D0,(A0)
0800163E  2002      2482          move.l    D2,D0
08001640  5280      2483          addq.l    #1,D0
08001642  4CDF 003C 2484          movem.l   (A7)+,D2/D3/D4/D5
08001646  4E5E      2485          unlk      A6
08001648  4E75      2486          rts
                    2487   _ltoa:
0800164A  4E56 0000 2488          link      A6,#0
0800164E  48E7 3C00 2489          movem.l   D2/D3/D4/D5,-(A7)
08001652  242E 0008 2490          move.l    8(A6),D2
08001656  262E 000C 2491          move.l    12(A6),D3
0800165A  2A2E 0010 2492          move.l    16(A6),D5
0800165E  2803      2493          move.l    D3,D4
08001660  0C85 0000 2494          cmp.l     #2,D5
08001664  0002      
08001666  6D08      2495          blt.s     ltoa_3
08001668  0C85 0000 2496          cmp.l     #36,D5
0800166C  0024      
0800166E  6F06      2497          ble.s     ltoa_1
                    2498   ltoa_3:
08001670  2003      2499          move.l    D3,D0
08001672  6000 0056 2500          bra       ltoa_4
                    2501   ltoa_1:
08001676  0C85 0000 2502          cmp.l     #10,D5
0800167A  000A      
0800167C  6600 0034 2503          bne       ltoa_5
08001680  0C82 0000 2504          cmp.l     #0,D2
08001684  0000      
08001686  6C2A      2505          bge.s     ltoa_5
08001688  2002      2506          move.l    D2,D0
0800168A  4480      2507          neg.l     D0
0800168C  2400      2508          move.l    D0,D2
0800168E  0C82 0000 2509          cmp.l     #0,D2
08001692  0000      
08001694  6C14      2510          bge.s     ltoa_7
08001696  4879 0800 2511          pea       @itoa_1.L
0800169A  19CE      
0800169C  2F03      2512          move.l    D3,-(A7)
0800169E  4EB9 0800 2513          jsr       _strcpy
080016A2  174A      
080016A4  504F      2514          addq.w    #8,A7
080016A6  2003      2515          move.l    D3,D0
080016A8  6020      2516          bra.s     ltoa_4
                    2517   ltoa_7:
080016AA  2044      2518          move.l    D4,A0
080016AC  5284      2519          addq.l    #1,D4
080016AE  10BC 002D 2520          move.b    #45,(A0)
                    2521   ltoa_5:
080016B2  2F05      2522          move.l    D5,-(A7)
080016B4  2F02      2523          move.l    D2,-(A7)
080016B6  2F04      2524          move.l    D4,-(A7)
080016B8  4EB9 0800 2525          jsr       @itoa_convert
080016BC  15C8      
080016BE  DEFC 000C 2526          add.w     #12,A7
080016C2  2800      2527          move.l    D0,D4
080016C4  2044      2528          move.l    D4,A0
080016C6  4210      2529          clr.b     (A0)
080016C8  2003      2530          move.l    D3,D0
                    2531   ltoa_4:
080016CA  4CDF 003C 2532          movem.l   (A7)+,D2/D3/D4/D5
080016CE  4E5E      2533          unlk      A6
080016D0  4E75      2534          rts
                    2535   _ultoa:
080016D2  4E56 0000 2536          link      A6,#0
080016D6  48E7 3800 2537          movem.l   D2/D3/D4,-(A7)
080016DA  262E 0010 2538          move.l    16(A6),D3
080016DE  282E 000C 2539          move.l    12(A6),D4
080016E2  2404      2540          move.l    D4,D2
080016E4  0C83 0000 2541          cmp.l     #2,D3
080016E8  0002      
080016EA  6D08      2542          blt.s     ultoa_3
080016EC  0C83 0000 2543          cmp.l     #36,D3
080016F0  0024      
080016F2  6F04      2544          ble.s     ultoa_1
                    2545   ultoa_3:
080016F4  2004      2546          move.l    D4,D0
080016F6  601A      2547          bra.s     ultoa_4
                    2548   ultoa_1:
080016F8  2F03      2549          move.l    D3,-(A7)
080016FA  2F2E 0008 2550          move.l    8(A6),-(A7)
080016FE  2F02      2551          move.l    D2,-(A7)
08001700  4EB9 0800 2552          jsr       @itoa_convert
08001704  15C8      
08001706  DEFC 000C 2553          add.w     #12,A7
0800170A  2400      2554          move.l    D0,D2
0800170C  2042      2555          move.l    D2,A0
0800170E  4210      2556          clr.b     (A0)
08001710  2004      2557          move.l    D4,D0
                    2558   ultoa_4:
08001712  4CDF 001C 2559          movem.l   (A7)+,D2/D3/D4
08001716  4E5E      2560          unlk      A6
08001718  4E75      2561          rts
                    2562   _itoa:
0800171A  4E56 0000 2563          link      A6,#0
0800171E  2F2E 0010 2564          move.l    16(A6),-(A7)
08001722  2F2E 000C 2565          move.l    12(A6),-(A7)
08001726  2F2E 0008 2566          move.l    8(A6),-(A7)
0800172A  4EB9 0800 2567          jsr       _ltoa
0800172E  164A      
08001730  DEFC 000C 2568          add.w     #12,A7
08001734  4E5E      2569          unlk      A6
08001736  4E75      2570          rts
                    2571   _strlen:
08001738  206F 0004 2572          move.l    (4,A7),A0
0800173C  2248      2573          move.l    A0,A1
                    2574   strlen_1:
0800173E  4A19      2575          tst.b     (A1)+
08001740  66FC      2576          bne       strlen_1
08001742  2009      2577          move.l    A1,D0
08001744  9088      2578          sub.l     A0,D0
08001746  5380      2579          subq.l    #1,D0
08001748  4E75      2580          rts
                    2581   _strcpy:
0800174A  206F 0004 2582          move.l    (4,A7),A0
0800174E  226F 0008 2583          move.l    (8,A7),A1
08001752  2008      2584          move.l    A0,D0
                    2585   strcpy_1:
08001754  10D9      2586          move.b    (A1)+,(A0)+
08001756  66FC      2587          bne.s     strcpy_1
08001758  4E75      2588          rts
                    2589   ULDIV:
0800175A  4E56 0000 2590          link    A6,#0
0800175E  48E7 C000 2591          movem.l D0/D1,-(A7)
08001762  222E 0008 2592          move.l  8(A6),D1
08001766  202E 000C 2593          move.l  12(A6),D0
0800176A  6036      2594          bra.s   ldiv_3
                    2595   LDIV:
0800176C  4E56 0000 2596          link    A6,#0
08001770  48E7 C000 2597          movem.l D0/D1,-(A7)
08001774  222E 0008 2598          move.l  8(A6),D1
08001778  202E 000C 2599          move.l  12(A6),D0
0800177C  4A80      2600          tst.l   D0
0800177E  6A0E      2601          bpl.s   ldiv_1
08001780  4480      2602          neg.l   D0
08001782  4A81      2603          tst.l   D1
08001784  6A14      2604          bpl.s   ldiv_2
08001786  4481      2605          neg.l   D1
08001788  612A      2606          bsr.s   dodiv
0800178A  4481      2607          neg.l   D1
0800178C  6016      2608          bra.s   ldiv_4
                    2609   ldiv_1:
0800178E  4A81      2610          tst.l   D1
08001790  6A10      2611          bpl.s   ldiv_3
08001792  4481      2612          neg.l   D1
08001794  611E      2613          bsr.s   dodiv
08001796  4480      2614          neg.l   D0
08001798  600A      2615          bra.s   ldiv_4
                    2616   ldiv_2:
0800179A  6118      2617          bsr.s   dodiv
0800179C  4480      2618          neg.l   D0
0800179E  4481      2619          neg.l   D1
080017A0  6002      2620          bra.s   ldiv_4
                    2621   ldiv_3:
080017A2  6110      2622          bsr.s   dodiv
                    2623   ldiv_4:
080017A4  2D40 0008 2624          move.l  D0,8(A6)
080017A8  2D41 000C 2625          move.l  D1,12(A6)
080017AC  4CDF 0003 2626          movem.l (A7)+,D0/D1
080017B0  4E5E      2627          unlk    A6
080017B2  4E75      2628          rts
                    2629   dodiv:
080017B4  0C81 0000 2630          cmpi.l  #$FFFF,D1
080017B8  FFFF      
080017BA  6236      2631          bhi.s   dodiv_2
080017BC  0C80 0000 2632          cmpi.l  #$FFFF,D0
080017C0  FFFF      
080017C2  6210      2633          bhi.s   dodiv_1
080017C4  80C1      2634          divu    D1,D0
080017C6  2200      2635          move.l  D0,D1
080017C8  4241      2636          clr.w   D1
080017CA  4841      2637          swap    D1
080017CC  0280 0000 2638          andi.l  #$FFFF,D0
080017D0  FFFF      
080017D2  4E75      2639          rts
                    2640   dodiv_1:
080017D4  48A7 A000 2641          movem.w D0/D2,-(A7)
080017D8  4240      2642          clr.w   D0
080017DA  4840      2643          swap    D0
080017DC  80C1      2644          divu    D1,D0
080017DE  3400      2645          move.w  D0,D2
080017E0  301F      2646          move.w  (A7)+,D0
080017E2  80C1      2647          divu    D1,D0
080017E4  4840      2648          swap    D0
080017E6  4281      2649          clr.l   D1
080017E8  3200      2650          move.w  D0,D1
080017EA  3002      2651          move.w  D2,D0
080017EC  4840      2652          swap    D0
080017EE  341F      2653          move.w  (A7)+,D2
080017F0  4E75      2654          rts
                    2655   dodiv_2:
080017F2  48E7 3800 2656          movem.l D2/D3/D4,-(A7)
080017F6  2401      2657          move.l  D1,D2
080017F8  4242      2658          clr.w   D2
080017FA  4842      2659          swap    D2
080017FC  5282      2660          addq.l  #1,D2
080017FE  2600      2661          move.l  D0,D3
08001800  2801      2662          move.l  D1,D4
08001802  2202      2663          move.l  D2,D1
08001804  61CE      2664          bsr.s   dodiv_1
08001806  2204      2665          move.l  D4,D1
08001808  82C2      2666          divu    D2,D1
0800180A  80C1      2667          divu    D1,D0
0800180C  0280 0000 2668          andi.l  #$FFFF,D0
08001810  FFFF      
                    2669   dodiv_3:
08001812  2204      2670          move.l  D4,D1
08001814  2404      2671          move.l  D4,D2
08001816  4842      2672          swap    D2
08001818  C2C0      2673          mulu    D0,D1
0800181A  C4C0      2674          mulu    D0,D2
0800181C  4842      2675          swap    D2
0800181E  D282      2676          add.l   D2,D1
08001820  9283      2677          sub.l   D3,D1
08001822  620A      2678          bhi.s   dodiv_4
08001824  4481      2679          neg.l   D1
08001826  B881      2680          cmp.l   D1,D4
08001828  6208      2681          bhi.s   dodiv_5
0800182A  5280      2682          addq.l  #1,D0
0800182C  60E4      2683          bra.s   dodiv_3
                    2684   dodiv_4:
0800182E  5380      2685          subq.l  #1,D0
08001830  60E0      2686          bra.s   dodiv_3
                    2687   dodiv_5:
08001832  4CDF 001C 2688          movem.l (A7)+,D2/D3/D4
08001836  4E75      2689          rts
                    2690          section   const
08001838            2691                   align
                    2692   
                    2693   
                    2694   @memory~1_1:
08001838  0D0A 5374 2695          dc.b      13,10,83,116,97,114,116,105,110,103,32,109,101
0800183C  6172 7469 
08001840  6E67 206D 
08001844  65        
08001845  6D6F 7279 2696          dc.b      109,111,114,121,32,97,100,100,114,101,115,115
08001849  2061 6464 
0800184D  7265 7373 
08001851  3A20 2558 2697          dc.b      58,32,37,88,32,0
08001855  2000      
                    2698   @memory~1_2:
08001858  0D0A 456E 2699          dc.b      13,10,69,110,100,105,110,103,32,109,101,109
0800185C  6469 6E67 
08001860  206D 656D 
08001864  6F72 7920 2700          dc.b      111,114,121,32,97,100,100,114,101,115,115,58
08001868  6164 6472 
0800186C  6573 733A 
08001870  2025 5820 2701          dc.b      32,37,88,32,0
08001874  00        
                    2702   @memory~1_3:
08001876  0D0A 4661 2703          dc.b      13,10,70,97,105,108,101,100,32,97,116,32,97
0800187A  696C 6564 
0800187E  2061 7420 
08001882  61        
08001883  6464 7265 2704          dc.b      100,100,114,101,115,115,32,37,88,0
08001887  7373 2025 
0800188B  5800      
                    2705   @memory~1_4:
0800188E  0D0A 4578 2706          dc.b      13,10,69,120,112,101,99,116,101,100,32,118,97
08001892  7065 6374 
08001896  6564 2076 
0800189A  61        
0800189B  6C75 653A 2707          dc.b      108,117,101,58,32,37,88,0
0800189F  2025 5800 
                    2708   @memory~1_5:
080018A4  0D0A 4163 2709          dc.b      13,10,65,99,116,117,97,108,32,86,97,108,117
080018A8  7475 616C 
080018AC  2056 616C 
080018B0  75        
080018B1  653A 2025 2710          dc.b      101,58,32,37,88,0
080018B5  5800      
                    2711   @memory~1_6:
080018B8  0D0A 4D65 2712          dc.b      13,10,77,101,109,32,84,101,115,116,32,80,97
080018BC  6D20 5465 
080018C0  7374 2050 
080018C4  61        
080018C5  7373 6564 2713          dc.b      115,115,101,100,0
080018C9  00        
                    2714   @doscan_1:
080018CA  0A00      2715          dc.b      10,0
                    2716   __ctype:
080018CC  0040 4040 2717          dc.b      0,64,64,64,64,64,64,64,64,64,80,80,80,80,80
080018D0  4040 4040 
080018D4  4040 5050 
080018D8  5050 50   
080018DB  4040 4040 2718          dc.b      64,64,64,64,64,64,64,64,64,64,64,64,64,64,64
080018DF  4040 4040 
080018E3  4040 4040 
080018E7  4040 40   
080018EA  4040 40D0 2719          dc.b      64,64,64,208,160,160,160,160,160,160,160,160
080018EE  A0A0 A0A0 
080018F2  A0A0 A0A0 
080018F6  A0A0 A0A0 2720          dc.b      160,160,160,160,160,160,160,140,140,140,140
080018FA  A0A0 A08C 
080018FE  8C8C 8C   
08001901  8C8C 8C8C 2721          dc.b      140,140,140,140,140,140,160,160,160,160,160
08001905  8C8C A0A0 
08001909  A0A0 A0   
0800190C  A0A0 8A8A 2722          dc.b      160,160,138,138,138,138,138,138,130,130,130
08001910  8A8A 8A8A 
08001914  8282 82   
08001917  8282 8282 2723          dc.b      130,130,130,130,130,130,130,130,130,130,130
0800191B  8282 8282 
0800191F  8282 82   
08001922  8282 8282 2724          dc.b      130,130,130,130,130,130,160,160,160,160,160
08001926  8282 A0A0 
0800192A  A0A0 A0   
0800192D  A089 8989 2725          dc.b      160,137,137,137,137,137,137,129,129,129,129
08001931  8989 8981 
08001935  8181 81   
08001938  8181 8181 2726          dc.b      129,129,129,129,129,129,129,129,129,129,129
0800193C  8181 8181 
08001940  8181 81   
08001943  8181 8181 2727          dc.b      129,129,129,129,129,160,160,160,160,64,0,0,0
08001947  81A0 A0A0 
0800194B  A040 0000 
0800194F  00        
08001950  0000 0000 2728          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001954  0000 0000 
08001958  0000 0000 
0800195C  0000 0000 
08001960  0000 0000 
08001964  0000      
08001966  0000 0000 2729          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0800196A  0000 0000 
0800196E  0000 0000 
08001972  0000 0000 
08001976  0000 0000 
0800197A  0000      
0800197C  0000 0000 2730          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001980  0000 0000 
08001984  0000 0000 
08001988  0000 0000 
0800198C  0000 0000 
08001990  0000      
08001992  0000 0000 2731          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
08001996  0000 0000 
0800199A  0000 0000 
0800199E  0000 0000 
080019A2  0000 0000 
080019A6  0000      
080019A8  0000 0000 2732          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019AC  0000 0000 
080019B0  0000 0000 
080019B4  0000 0000 
080019B8  0000 0000 
080019BC  0000      
080019BE  0000 0000 2733          dc.b      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
080019C2  0000 0000 
080019C6  0000 0000 
080019CA  0000 00   
                    2734   @itoa_1:
080019CE  2D32 3134 2735          dc.b      45,50,49,52,55,52,56,51,54,52,56,0
080019D2  3734 3833 
080019D6  3634 3800 
                    2736          section   data
080019DA            2737                   align
                    2738   
                    2739   *********************************************************************************************************************************************************
                    2740   * Section for Initialised Data (in theory should be copied to Ram at startup) but is part of program code as we copy whole program to ram at startup
                    2741   ********************************************************************************************************************************************************
                    2742   
          0800 19DA 2743   DataStart       equ       *
080019DA            2744   __ungetbuf:     ds.l      1                    ungetbuffer for stdio functions
080019DE            2745   __allocp:       ds.l      1                    start of free memory block list
080019E2            2746   __heap:         ds.l      1                    begin of free memory
                    2747   
                    2748   
                    2749   @doscan_lpbuf:
080019E6  0800 1A06 2750          dc.l      @doscan_buf
                    2751          section   bss
080019EA            2752                   align
                    2753   
          0800 19EA 2754   DataEnd         equ       *                    this label will equate to the address of the last byte of global variable in it
          0000 0010 2755   DataLength      equ       DataEnd-DataStart    length of data needed to copy to Ram on bootup
                    2756   
                    2757   *********************************************************************************************************
                    2758   * Section for uninitialised Data which is set to zero, i.e. we should set this space to zero at starup
                    2759   *********************************************************************************************************
          0800 19EA 2760   BssStart       equ       *
                    2761   
                    2762   _i:
080019EA            2763          ds.b      4
                    2764   _x:
080019EE            2765          ds.b      4
                    2766   _y:
080019F2            2767          ds.b      4
                    2768   _z:
080019F6            2769          ds.b      4
                    2770   _PortA_Count:
080019FA            2771          ds.b      4
                    2772   _Timer1Count:
080019FE            2773          ds.b      1
                    2774   _Timer2Count:
08001A00            2775          ds.b      1
                    2776   _Timer3Count:
08001A02            2777          ds.b      1
                    2778   _Timer4Count:
08001A04            2779          ds.b      1
                    2780   @doscan_buf:
08001A06            2781          ds.b      80
                    2782          section   heap
08001A56            2783                  align
                    2784   
          0800 1A56 2785   BssEnd         equ       *
          0000 006C 2786   BssLength      equ       BssEnd-BssStart       length of zeroed data needed to copy to Ram on bootup
                    2787   
                    2788   *********************************************************************************************************
                    2789   * Section for Heap
                    2790   *********************************************************************************************************
                    2791   
          0800 1A56 2792   heap           equ       *
08001A56            2793                  align
          0800 0000

Assembly errors: 0
